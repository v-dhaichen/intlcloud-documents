このドキュメントでは、Tencent Cloud CMについて理解と使用がしやすくするためのコア用語とコンセプトを紹介します。

## メトリック

メトリックはCMのコアコンセプトで、CMに送信される時系列のデータポイントの集合を表し、時系列でこれらのデータポイントに関する統計データを検索できます。メトリックは監視変数として、メトリックデータはこの変数が時間に伴い変化する値を表します。例えば、CVMのCPU利用率はメトリックであり、データベースのスペース占有率は別のメトリックです。

メトリックデータはあらゆる製品、アプリケーションまたは業務から取得できます。例えば、メトリックはCVMのCPU利用率またはユーザー業務プロセスの時間遅延であります。メトリックは名称、名前空間および1つ又は複数のディメンションを介して一意に定義されます。各データポイントには1つのタイムスタンプと1つの測定単位（オプション）があります。CMが保存するメトリックデータに対してリクエストすると、返すデータフローは名前空間、メトリック名とディメンションにより識別されます。


## 名前空間
名前空間はメトリックのコンテナです。異なる名前空間におけるメトリックは互いに独立しているため、異なるアプリケーションからのメトリックが誤って集合されることはありません。


## ディメンション
ディメンションは監視オブジェクトを一意に識別するKey/Valueペアであり、メトリックはディメンション値を確定しなければ意味がありません。ディメンションは統計データの集計構造をデザインするのに役立ちます。例えば、サーバーIP、プロセス名proc_nameは、2つのディメンション値が確定後、監視オブジェクト（監視オブジェクトA（IP=1.1.1.1&proc_name=test））を確定することができます。クラウド製品のメトリックデータをCMに配置する時に対応するメトリック（システムが事前設定するメトリックはいずれも対応するメトリックを既に事前設定します）を指定する必要があり、検索時に定義されていないディメンションを使用するとエラーが発生します。

## タイムスタンプ

CMにおいて、各メトリックのデータポイントには1つの時間タグがなければならず、この生データを収集した時間を表します。リクエストで使用するタイムスタンプはdateTimeオブジェクトで、また、完全な日付および時間、分、秒を含まなければなりません（例：2000-01-31 23:59:59）。CMコンソールとアラームはデフォルトでUTC+8でデータの表示とアラームの判定を行います。


## 単位

単位はメトリックの生データの測定単位であり、アプリケーションはデータの単位に基づき有用な構文情報を取得します。例えば、CVMのパブリックネットワークのアウトバウンド帯域幅のメトリックの単位はMbpsであり、これはネットワークの帯域幅が常にメガビット/秒（Mbps）で現在のネットワーク速度を測定するためです。以下のリストでCMがサポートする一般的な単位を提供します。

- 秒（時間単位）
- Byte（バイト、常にデータのサイズを表します。1 Byte=8 bit）
- bit（ビット、データの最小単位です）
- %（パーセンテージ）
- 回（カウントの単位）
- Bps（1秒あたりのバイト数）
- bps（1秒あたりのビット数）

## データ粒度

データ粒度はCMが統計データの間隔（時間）であり、各タイムスタンプは指定された粒度に基づき収集したすべてのデータを集合した結果を表します。データ粒度は秒で表し、現在、CMは10、60、300dなどの複数の監視データの粒度をサポートしています。

ユーザーがCM APIを呼び出す時、periodパラメータを介してデータの粒度を指定することができます。[GetMonitorData API](https://cloud.tencent.com/doc/api/405/4667#5.1-.E4.BA.91.E6.9C.8D.E5.8A.A1.E5.99.A8)を呼び出して監視データを取得する時、period、startTimeとendTimeパラメータの値は返すデータ数を決定します。例えば、すべてのパラメータのデフォルト値で呼び出す時、その前1時間以内の300秒毎の統計データ、すなわち合計12個のデータポイントが返されます。

データ粒度は、同様にアラーム機能の重要な構成部分です。ユーザーがアラームのトリガー条件を作成する時、アラーム規則がトリガーするデータ粒度と継続サイクルを設定する必要があり、異なる粒度と継続サイクルの選択はアラーム判定の時間が違うことを表します。

## 統計方式

* タイムディメンション

タイムディメンションとは、CMのメトリックデータが細かい粒度から粗い粒度へと集約されるのに使用される集計方式を指し、一般的にはSum、Max、Min、Avg、Lastの数種類の方式があります。例えば、1つのメトリックには10、60、300の数種類の粒度のデータがあり、タイムディメンションの統計方式により6つの10秒の粒度演算で1つの60秒のデータを取得する時に使用する統計方式が決まり、また、5つの60秒のデータを演算して300秒の粒度データを取得する方式でもあります。

1つのメトリックには最大で10秒→1分→5分→1時間→1日という5層の計算が存在することができ、各層の計算に使用する統計方式はいずれも一致しています。

* オブジェクトディメンション

オブジェクトディメンションとは、複数のインスタンスの具体的な監視メトリックデータを1つの合計データに集約するために使用される統計方式であり、一般的にSum、Max、Min、Avgの数種類の方式があります。例えば、ユーザーが1つのクラスタにおけるすべてのサーバーの特定のメトリックの合計データを計算したい場合、オブジェクトディメンションの集計方式により、このクラスタにおけるすべてのサーバーデータを集約するために採用する統計方式が決まります。クラスタのCPU使用率の平均値の場合、集約方式はAvgです。または、1つのクラスタの合計帯域幅の場合、集約方式はSumです。
