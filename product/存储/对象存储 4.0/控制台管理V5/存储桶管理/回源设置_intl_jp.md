## 概要
COSコンソールを介して、バケットにプル規則を設定でき、リクエストされたオブジェクトがバケットに存在しないかまたは特定のリクエストをリダイレクトする必要がある場合、プル規則を通じてCOSから対応するデータにアクセスできます。設定されたプルは、主にデータのホットマイグレーション、特定のリクエストのリダイレクトなどのシナリオに使用され、実際のニーズに応じて設定できます。

>?プルによってデータを取得する成功率はネットワーク環境に依存し、China Telecom、China Unicorn、China MobileなどのIPアドレス範囲を優先的に使用してください。

![](https://main.qcloudimg.com/raw/10f9f4a6c04cb95cfe0429fb30d091a3.png)  
## 操作手順
1. [COSコンソール](https://console.cloud.tencent.com/cos5)にログインし、左側のメニューバー【バケットリスト】を選択し、バケットリストページに入ります。プルを設定する必要があるバケットをクリックします。
![](https://main.qcloudimg.com/raw/b90ad17947a0ec530db87210f4b9027d.png)
2. 【基本構成】をクリックし、プルの設定を見つけ、現在のステータスをオンに変更した後、プルアドレスを入力し、最後に【保存】をクリックします。構成項目の説明は以下のとおりです：
 **プルアドレス**：ドメイン名またはIPアドレスを入力すればよく、ドメイン名またはIPアドレスの後にポート番号を追加することは可能です。プレフィックス`http://`または `https`を付ける必要はありません（現時点ではサポートされていません）。
アドレスの正しい例は以下のとおりです：
```shell
abc.example.com
abc.example.com:8080
10.10.10.10
10.10.10.10:8080
```


## 例
**背景**
APPIDが1250000000のユーザーは、名称がexamplebucket-1250000000のバケットを作成し、かつCDN加速アクセスドメイン名を有効化します：
```shell
examplebucket-1250000000.file.myqcloud.com
```

バケットのプルアドレスを以下のように設定します：
```shell
abc.example.com
```
画像picture.jpgをオリジンサーバー`http://abc.example.com`に保存します。

**クライアントの初回アクセス**：
```shell
http://examplebucket-1250000000.file.myqcloud.com/picture.jpg
```
COSは、オブジェクトをヒットできないことを発見すると、302 HTTPステータスコードをクライアントに返し、以下のアドレスにジャンプします：
```shell
http://abc.example.com/picture.jpg
```
この時、オブジェクトは、アクセスを確実にするためにオリジンサーバーからクライアントに提供されます。同時に、COSはpicture.jpgをオリジンサーバーからコピーしてバケットexampleのルートディレクトリに保存します。

** 2回目のアクセス**：
```shell
http://examplebucket-1250000000.file.myqcloud.com/picture.jpg
```
COSはルートディレクトリのpicture.jpgオブジェクトを直接ヒットしてクライアントに返します。
