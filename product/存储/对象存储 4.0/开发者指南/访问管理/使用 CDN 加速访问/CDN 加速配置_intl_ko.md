## 적용 시나리오
- 응답 지연과 다운로드 속도에 높은 요구가 있는 시나리오.
- 지역 간, 국가 간, 대륙 간 GB 단위에서 TB 단위 까지의 데이터 전송이 필요하는 시나리오.
- 동일 콘텐츠의 고밀도로 반복적으로 다운로드하는 시나리오.

## 관련 설명
도메인 정의, CDN 오리진 요청 인증과 CDN 인증 구성은 이미 [CDN 가속 개요](/document/product/436/18669) 문서에서 이미 소개되었으므로 여기서는 다시 설명하지 않습니다.

CDN 오리진 요청 인증, CDN 인증 구성은 CDN 가속 도메인 이름과 COS 도메인 이름의 오리진 서버 버킷 접근 방식에 영향을 미칩니다. 자세한 상황은 다음 표와 같습니다.

| 버킷 접근 권한      | CDN 오리진 요청 인증 | CDN 인증 구성 | CDN 가속 도메인 이름    | COS 도메인 이름        | 시나리오         |
| ------------------- | ------------ | ------------ | --------------- | --------------- | ------------ |
| 공개 읽기              | 비활성화        | 비활성화         | 접근 가능          | 접근 가능          | 전체 서버 공통 접근 |
| 공개 읽기              | 활성화         | 비활성화      | 접근 가능          | 접근 가능          | 추천하지 않음       |
| 공개 읽기              | 비활성화         | 활성화         | URL 인증 필요 | 접근 가능          | 추천하지 않음       |
| 공개 읽기              | 활성화         | 활성화         | URL 인증 필요 | 접근 가능          | 추천하지 않음       |
| 비공개 읽기+CDN 서비스 권한 부여 | 활성화         | 활성화         | URL 인증 필요 | COS 인증 필요 | 모든 링키지 보호   |
| 비공개 읽기+CDN 서비스 권한 부여 | 비활성화         | 활성화         | 접근 불가        | COS 인증 필요 | 추천하지 않음       |
| 비공개 읽기+CDN 서비스 권한 부여 | 활성화         | 비활성화         | 접근 가능          | COS 인증 필요 | 오리진 서버 보호     |
| 비공개 읽기+CDN 서비스 권한 부여 | 비활성화         | 비활성화         | 접근 불가        | COS 인증 필요 | 추천하지 않음       |
| 비공개 읽기              | 비활성화         | 활성화/비활성화   | 접근 불가        | COS 인증 필요 | CDN 사용 불가 |

## 기본 가속 도메인 이름에 대한 CDN 가속 구성

기본 가속 도메인 이름은 COS가 버킷에 자동으로 할당하는 CDN 가속 도메인 이름입니다. 형식은 ` <bucketname>-<APPID>.file.mycloud.com`과 같습니다. 사용자는 활성화/비활성화를 선택할 수 있습니다.

### 기능 활성화
#### 1. 버킷 선택
[COS 콘솔](https://console.cloud.tencent.com/cos5)에 로그인하고 좌측 메뉴 [버킷 리스트]에 액세스한 후 가속할 버킷을 클릭하여 해당 버킷에 액세스합니다.
![버킷 인터페이스](https://main.qcloudimg.com/raw/688c1dc518cb417461bc9d4645e4c41c.png)

#### 2. 구성 페이지에 액세스
버킷 페이지 상단에서 [도메인 관리] 태그 페이지에 액세스하면 기본 가속 도메인 이름의 초기 상태는 [비활성화]입니다.
![기본 도메인 이름 끄기](https://main.qcloudimg.com/raw/bd56dc4366b69e9fc63729135099985f.png)

> **주의:**
>Tencent Cloud CDN 서비스를 사용한 적 없는 사용자는 [도메인 이름 관리]에 액세스할 수 없으므로 먼저 외부 링크를 클릭하여 CDN 콘솔에 액세스하여 CDN 서비스를 활성화해야 합니다.
> ![CDN 활성화](https://main.qcloudimg.com/raw/4c8b820c51746a91e837559d9325134a.png)

#### 3. 오리진 서버 유형 선택
[편집]을 클릭하여 현재 상태를 활성화로 설정합니다.

여기서는 오리진 서버의 유형을 선택해야 합니다. 오리진 서버 유형의 기본값은 XML 노드이며 오리진 서버로서의 버킷이 정적 사이트를 켰고 정적 사이트를 가속하고자 할 경우, 오리진 서버 유형을 정적 웹사이트 노드로 설정하면 됩니다. 자세한 내용은 [CDN 가속 개요](/document/product/436/18669)를 참조하십시오.
![기본 도메인 이름 켜기](https://main.qcloudimg.com/raw/542a778a7177e3aae0e49580aaefe348.png)

#### 4. CDN 서비스 권한 추가(옵션)

CDN 서비스 권한 부여를 추가하는 것은 CDN 엣지 서버가 버킷에 작업을 진행하는 서비스 ID를 부여하기 위함입니다. 자세한 내용은 다음과 같습니다.

- 공개 읽기 버킷: CDN 엣지 서버는 모든 권한을 부여할 필요가 없이 직접 버킷에 접근할 수 있으며 CDN 서비스 권한 부여를 추가하지 않아도 됩니다.

- 비공개 읽기 버킷: CDN 엣지 서버는 특별한 서비스 ID를 부여받아야만 버킷에 접근할 수 있습니다. [CDN 서비스 권한 추가]를 클릭하여 CDN 엣지 서버 서비스 ID를 부여받은 후, [상기 권한 부여에 동의합니다]를 선택하고 [확인]을 클릭합니다.

권한 부여를 추가한 후, CDN 엣지 서버는 GET Object, Head Object, Options Object 세 가지 작업을 진행할 수 있습니다.

![CDN 권한 부여](https://main.qcloudimg.com/raw/a4654ca919ad72479143a47017fba34b.png)

  권한 부여에 동의하면 시스템은 자동으로 버킷 접근 정책을 쓰기합니다. 다음 CDN 노드는 오리진 요청 필요 시, 다른 작업을 진행할 필요가 없습니다. 정책 쓰기는 다음과 같습니다.

```xml
  {
    "Statement": [
      {
        "Action": [
          "name/cos:GetObject",
          "name/cos:HeadObject",
          "name/cos:OptionsObject"
        ],
        "Effect": "allow",
        "Principal": {
          "qcs": [
            "qcs::cam::uin/************:service/cdn"
          ]
        },
        "Resource": [
          "qcs::cos:ap-chengdu:uid/**********:sdobc-**********/*"
        ]
      }
    ],
    "version": "2.0"
  }
```

#### 5. 오리진 요청 인증 활성화(옵션)
>**주의:**
> CDN 서비스 권한을 추가한 후에야만 오리진 요청 인증을 활성화할 수 있습니다.

오리진 요청 인증은 CDN 엣지 서버의 서비스 ID를 인증하여 불법 접근을 차단합니다. 자세한 내용은 다음과 같습니다.
- 공개 읽기 버킷: CDN 엣지 서버는 모든 권한을 부여할 필요가 없이 직접 버킷에 접근할 수 있으며 오리진 요청 인증을 활성화할 필요가 없습니다.
- 비공개 읽기 버킷: CDN 엣지 서버는 오리진 요청 인증을 거쳐 서비스 ID를 인증해야 합니다. 인증을 통과한 CDN 엣지 서버만 이 버킷의 객체에 접근할 수 있으며 [오리진 요청 인증]을 클릭하여 활성화합니다.
![오리진 요청 인증 활성화](https://main.qcloudimg.com/raw/9b662fe72d91ff15e2e664ef4ffbc1c0.png)

> **주의:**
> 버킷이 비공개 읽기인 경우 오리진 요청 인증과 CDN 서비스 권한 부여를 활성화하면 CDN 엣지 서버가 오리진 서버에 접근 시 서명을 가지지 않아도 됩니다. CDN 캐시 리소스를 공중망에 배포하면 데이터의 보안성에 영향을 미치기 때문에 CDN 인증 활성화를 권장합니다.

#### 6. CDN 가속 활성화
[저장]을 클릭한 후, 5분 정도를 기다리면 CDN 가속이 배포를 완료합니다.

### 구성 인증
기본 가속 도메인과 오리진 요청 인증을 활성화한 후 기본 가속 도메인 이름 관리 인터페이스에 CDN 인증 상태 알림이 나타나게 됩니다. 알림의 [인증 구성]을 통해 해당 도메인 이름의 CDN 안전 구성 페이지로 리디렉션하여 구성할 수 있습니다.
![인증 구성](https://main.qcloudimg.com/raw/f836aa8efc9b07b79d47a203c697aa49.png)

[CDN 콘솔](https://console.cloud.tencent.com/cdn)로부터 CDN 인증 구성 페이지에 액세스하는 경로는 [도메인 이름 관리] > 해당 도메인 이름의 [관리] > [안전 구성]입니다.

자세한 구성 절차는 [인증 구성](https://cloud.tencent.com/document/product/228/13677)을 참조하십시오.

#### 주의 사항
기본 도메인 이름에 CDN 가속을 활성화한 후, 모든 사용자는 이 도메인 이름을 통해 직접 오리진 서버에 접근할 수 있습니다. 만약 데이터에 일정한 프라이버시가 있을 경우, 반드시 인증 구성을 활성화하여 오리진 서버 데이터를 보호하십시오.

### 기능 비활성화
- 기본 가속 도메인 이름 관리 인터페이스에서 [편집]을 한번 클릭하고 상태를 [활성화]에서 [비활성화]로 변경한 후 [저장]을 한번 클릭하며 약 5분 정도의 배포 시간이 소요됩니다. 배포가 완료되면 CDN 콘솔에서 이 도메인 이름 상태가 [시동됨]에서 [꺼짐]으로 바뀝니다.
![](https://main.qcloudimg.com/raw/e7dfd0da74d0d8d48f7e53425b0adde0.png)

- [CDN 콘솔](https://console.cloud.tencent.com/cdn)에서 도메인 이름 끄기/삭제 작업을 할 수 있습니다. 자세한 내용은 [도메인 이름 조작](https://cloud.tencent.com/document/product/228/5736)을 참조하십시오.
  > **주의:**
  > CDN 콘솔에서 삭제하는 것은 단지 기본 가속 도메인 이름이 CDN 가속 시 기록한 데이터 뿐이며 기본 가속 도메인 이름을 전체 삭제하지 않으며 COS 콘솔에서 기본 가속 도메인 이름을 다시 활성화할 수 있습니다.

![CDN 콘솔 비활성화](https://main.qcloudimg.com/raw/4d3f7485a78be5f18c3e3ac3ec0a4447.png)

## 사용자 지정 가속 도메인 이름에 대한 CDN 가속 구성
사용자는 COS 콘솔을 통해 버킷에 사용자 지정 도메인 이름을 바인딩할 수 있습니다. 바인딩 후 CDN 가속을 활성화하면 사용자 지정 도메인 이름을 통해 버킷에 가속 접근할 수 있습니다. 사용자 지정 도메인 바인딩 시, 사용자는 자체로 사용자 지정의 서비스 제공업체에 CNAME 해석을 추가해야 합니다.
> **주의:** 
> 버킷을 바인딩한 사용자 지정 도메인 이름은 공업정보화부의 [ICP 라이센스](https://cloud.tencent.com/product/ba)를 취득해야 하며, 그렇지 않으면 사용자 지정 도메인은 접근될 수 없습니다. 

### 기능 활성화
> **주의:**
> COS 콘솔과 CDN 콘솔은 모두 사용자 지정 도메인 이름 추가 및 CDN 가속 활성화를 완료할 수 있습니다. CDN 콘솔에서 사용자 지정 도메인 이름을 추가하려면 [도메인 이름 액세스](https://cloud.tencent.com/document/product/228/5734)를 참조하십시오.

#### 1. 사용자 지정 도메인 이름에 바인딩할 버킷 선택
[COS 콘솔](https://console.cloud.tencent.com/cos5)에 로그인하고 좌측 메뉴 [버킷 리스트]에 액세스하여 구성할 도메인 이름의 버킷을 클릭한 후, 버킷에 액세스합니다.
![버킷 인터페이스](https://main.qcloudimg.com/raw/688c1dc518cb417461bc9d4645e4c41c.png)

#### 2. 사용자 지정 도메인 이름 추가
[도메인 이름 관리] 태그 페이지에 액세스하여 두 번째 란 [사용자 지정 가속 도메인]에서 [도메인 이름 추가]를 클릭하고 바인딩할 사용자 지정 도메인 이름을 입력합니다.
![사용자 지정 도메인 이름](https://main.qcloudimg.com/raw/c1c93c254856864e7a9f3879ebad4820.png)

#### 3. 오리진 서버 유형 선택
오리진 서버 유형의 일반적인 기본값은 XML 노드입니다. 만약 선택한 버킷이 정적 웹사이트 기능을 활성화하였고 정적 웹사이트를 가속하고자 한다면 오리진 서버 유형을 정적 웹사이트 노드로 설정하면 됩니다. XML 노드와 정적 웹사이트에 대한 자세한 소개는 개요를 참조하십시오.
![오리진 서버 유형 선택](https://main.qcloudimg.com/raw/826d747660b2bad5f4aaeddc6e26e697.png)

#### (옵션) 4. 오리진 요청 인증 활성화
오리진 요청 인증은 CDN 엣지 서버의 서비스 ID를 인증하여 불법 접근을 차단합니다. 자세한 내용은 다음과 같습니다.

- 공개 읽기 버킷: CDN 엣지 서버는 모든 권한을 부여할 필요가 없이 직접 버킷에 접근할 수 있으며 오리진 요청 인증을 활성화할 필요가 없습니다.
- 비공개 읽기 버킷: CDN 엣지 서버는 오리진 요청 인증을 거쳐 서비스 ID를 인증해야 합니다. 인증을 통과한 CDN 엣지 서버만 이 버킷의 객체에 접근할 수 있으며 [오리진 요청 인증]을 클릭하여 활성화합니다.
![사용자 지정 오리진 요청 인증 활성화](https://main.qcloudimg.com/raw/610dbfab9d3f9f20288f286b099e7fbe.png)

> **주의:**
> 버킷이 비공개 읽기인 경우 오리진 요청 인증을 활성화하면 CDN 엣지 서버가 오리진 서버에 접근 시 서명을 가지지 않아도 됩니다. CDN 캐시 리소스를 공중망에 배포하면 데이터의 보안성에 영향을 미치기 때문에 CDN 인증 활성화를 권장합니다.

#### 5. CDN 가속 활성화

우측의 [저장]을 클릭한 후, 5분 정도 기다리면 사용자 지정 도메인의 추가와 CDN 가속이 배포가 완료됩니다.

### 구성 인증
사용자 지정 도메인을 추가한 후 도메인 이름 상태는 [런칭됨]으로 바뀌며 CDN 인증란에는 CDN 인증 기능 설정 링크가 나타납니다. [설정]을 한번 클릭하면 직접 CDN 콘솔에 액세스하여 CDN 인증 구성을 진행할 수 있습니다. 자세한 작업 방식은 [인증 구성](https://cloud.tencent.com/document/product/228/13677)을 참조하십시오.
![사용자 지정 가속 런칭](https://main.qcloudimg.com/raw/2b6cca677934b91874657bea693cb7f5.png)

#### 주의 사항
- 사용자 지정 도메인 이름에 CDN 가속을 활성화한 후, 모든 사용자는 이 도메인 이름을 통해 직접 오리진 서버에 접근할 수 있습니다. 만약 데이터에 일정한 프라이버시가 있을 경우, 반드시 인증 구성을 활성화하여 오리진 서버 데이터를 보호하십시오.

### 도메인 이름 해석
사용자 지정 도메인 이름이 CDN에 액세스한 후 시스템은 자동으로 CNAME 도메인 이름(`.cdn.dnsv1.com`을 접미사로)을 할당하며 도메인 서비스 제공업체에서 CNAME 구성을 완료해야 합니다. 자세한 내용은 [CNAME 구성](https://cloud.tencent.com/document/product/228/3121)을 참조하십시오.

> **주의:**
> CNAME 도메인 이름은 직접 접근할 수 없습니다.
![CNAME](https://main.qcloudimg.com/raw/ce416e52cac3a86a8c73955d208ad26e.png)

### 기능 비활성화
- 기본 가속 도메인 이름 관리 인터페이스에서 [편집]을 한번 클릭하면 도메인 이름 상태를 변경할 수 있고 도메인 이름 상태를 [런칭됨]에서 [오프라인됨]으로 변경하고 [저장]을 한번 클릭한 후 배포 대기합니다. 시간은 약 5 분정도 소요된 후 기능을 비활성화할 수 있습니다. CDN 콘솔에서 해당하는 사용자 지정 가속 도메인 이름의 상태는 [활성화]에서 [비활성화]로 됩니다.

  > **주의:**
  > 사용자 지정 도메인 이름을 삭제하고자 할 경우, 사용자 지정 도메인 이름 상태가 [런칭됨]일 때 도메인 이름을 직접 삭제할 수 없으며 반드시 [오프라인됨]으로 변경한 후에야만 도메인 이름을 삭제할 수 있습니다.
  ![COS 콘솔 끄기](https://main.qcloudimg.com/raw/c6e92d1bfbf799cb5dfc1c94cff7ce6a.png)

- [CDN 콘솔](https://console.cloud.tencent.com/cdn)에서 도메인 이름 끄기 또는 삭제 작업을 할 수 있습니다. 자세한 내용은 [도메인 이름 조작](https://cloud.tencent.com/document/product/228/5736)을 참조하십시오.
  ![CDN 콘솔 비활성화](https://main.qcloudimg.com/raw/4d3f7485a78be5f18c3e3ac3ec0a4447.png)

