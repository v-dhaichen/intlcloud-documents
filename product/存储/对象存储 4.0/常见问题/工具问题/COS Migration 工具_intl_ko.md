### 마이그레이션 도구가 오류가 발생하여 종료되면 어떻게 해야 하나요?

COS 마이그레이션 도구는 중단점 업로드 재개를 지원합니다. 큰 파일의 경우, 사용 중 오류로 인해 종되거나 서비스 장애가 발생할 경우 해당 도구를 다시 실행하여 업로드가 중단된 파일을 계속 업로드할 수 있습니다.

### 콘솔 또는 다른 방법을 통해 COS로 이미 마이그레이션된 파일을 삭제하면 마이그레이션 도구가 다시 이 파일을 업로드하나요?

아니요. 마이그레이션된 모든 파일은 db에 기록됩니다. 마이그레이션 도구는 실행 전 db 디렉터리를 스캔하고 기록된 파일을 다시 업로드하지 않습니다. 자세한 내용은 [마이그레이션 메커니즘 및 프로세스](https://cloud.tencent.com/document/product/436/15392#.E8.BF.81.E7.A7.BB.E6.9C.BA.E5.88.B6.E5.8F.8A.E6.B5.81.E7.A8.8B)를 참조하십시오.

### 마이그레이션이 실패하여 로그에 "403 Access Deny"라는 메시지가 나타날 경우 어떻게 해야 하나요?

키, 버킷 및 지역 정보가 정확하고 조작 권한이 있는지 확인하십시오. 서브 계정을 사용할 경우 부모 계정에서 해당 권한을 부여받아야 합니다. 로컬 또는 다른 클라우드 스토리지에서 마이그레이션할 경우 버킷에 대한 데이터 쓰기/읽기 권한이 필요합니다. Bucket copy 작업의 경우, 소스 버킷에 대한 데이터 읽기 권한이 필요합니다.

### 다른 클라우드 스토리지에서 COS 마이그레이션이 실패하여 "Read timed out"이라는 오류 메시지가 나타나면 어떻게 해야 하나요?

일반적으로 이 오류는 네트워크 대역폭이 부족하여 다른 클라우드 스토리지에서 데이터 다운로드가 시간 초과되기 때문에 발생합니다. 예를 들어, AWS에서 COS로 중국 대륙 이외 지역 데이터를 마이그레이션할 경우, 데이터를 로컬로 다운로드할 때 대역폭 부족으로 인해 지연되면 read time out이 나타날 수 있습니다. 이 문제를 해결하려면 네트워크 대역폭을 증가하고 마이그레이션 전에 wget으로 다운로드 속도를 테스트하는 것을 권장합니다.

### 마이그레이션이 실패하여 로그에 "503 Slow Down"이라는 메시지가 나타나면 어떻게 해야 하나요?

이 오류는 주파수 제어 트리거로 인해 발생합니다. 현재 COS는 하나의 계정에 대해 800QPS 작업 제한이 있습니다. 구성에서 작은 파일의 동시 작업 수량을 줄이고 도구를 다시 실행하면 실패된 마이그레이션을 다시 시작할 수 있습니다.

### 마이그레이션이 실패하고 로그에 "404 NoSuchBucket"이라는 메시지가 나타나면 어떻게 해야 하나요?

키, 버킷 및 지역 정보가 정확한지 확인하십시오.

### 실행이 실패하고 다음과 같은 메시지가 나타나면 어떻게 해야 하나요?

![img](https://main.qcloudimg.com/raw/9fdac231af66c991c13fe0440e8d7366.png)
가능한 이유는 이 도구가 64비트 JDK가 필요한 rocksdb를 사용하고 있기 때문입니다. JDK 버전이 X64인지 확인하십시오.

### Windows에서 rocksdb의 jni 라이브러리를 찾을 수 없으면 어떻게 해야 하나요?
Windows에서는 도구는 Microsoft Visual Studio 2015에서 컴파일해야 합니다. 위의 오류 메시지가 나타날 경우 [Visual C++ Redistributable for Visual Studio 2015](https://www.microsoft.com/ko-KR/download/details.aspx?id=48145)를 설치하십시오.

### 로그 클래스를 어떻게 수정하나요?
src/main/resources/log4j.properties 파일을 수정하여 log4j.rootLogger의 값을 해당하는 로그 클래스로 복사합니다. 예: DEBUG, INFO, ERROR.

다른 문제가 발생하면 마이그레이션 도구를 다시 실행하십시오. 오류가 지속될 경우 구성 정보(키 정보를 숨기십시오) 및 log 디렉터리를 함께 압축한 후 [티켓 제출](https://console.cloud.tencent.com/workorder/category)하십시오.

