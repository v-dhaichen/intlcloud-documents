## 機能概要

COS署名ツールは、Tencent Cloud COSがユーザーに提供するWebツールであり、リクエスト署名を生成するために使用されます。ツールページに指定のパラメータを入力し、リクエスト署名を生成し、リクエスト署名の正確性を検証します。
- 現時点でCOSはXMLとJSONの2つのバージョンのAPIがあります。2つのAPIの署名入力パラメーターがそれぞれ違います。COSはXMLバージョンのAPIをおすすめします。JSON APIは、Tencent Cloud COSサービスがXML APIをリリースする前に、ユーザーに提供するCOSにアクセスするためのAPIです。APIと標準XMLのAPI最下層アーキテクチャが同じ、データの相互運用性があり、交互に使うことができますが、API互換性がありません。
- XMLバージョンの署名説明ドキュメントについては、XMLバージョン[リクエスト署名](https://cloud.tencent.com/document/product/436/7778)を参照してください。
- JSONバージョンの署名説明ドキュメントについては、JSONバージョン[リクエスト署名](https://cloud.tencent.com/document/product/436/6054)を参照してください。

## 使用方法

### XMLバージョン署名ツール

#### COS署名ツールを開く

[COS署名ツール](https://cos5.cloud.tencent.com/static/cos-sign/)をクリックし、「COS署名ツール」ページに入ります。

#### 基本構成情報を入力する

下図のように、「基本情報」欄にAPIバージョンと署名の有効時間を入力します。
![avatar](https://main.qcloudimg.com/raw/6855a2f6b18779037090e0769303bbc7.png)
基本情報のパラメータは必須入力項目です
- APIバージョン：XMLバージョンのAPIを選択します。
- 署名有効時間：署名の有効時間。【取得】をクリックすると、有効期間が60分間の署名を取得できます。また、有効な開始時刻と終了時刻を入力し、この開始時刻と終了時刻の署名結果を表示できます。関連する署名の有効時間の説明については、[リクエスト署名](https://cloud.tencent.com/document/product/436/7778#.E7.AD.BE.E5.90.8D.E5.86.85.E5.AE.B9)を参照してください。

#### API暗号鍵情報の入力

下図のように、「API暗号鍵」欄にAPI暗号鍵情報を入力します。
![avatar](https://main.qcloudimg.com/raw/c28b93819a8fdd9e121e6b0702d098d4.png)
API暗号鍵の情報は必須入力項目です。
- API暗号鍵のパラメータ情報は、コンソールの[API暗号鍵管理](https://console.cloud.tencent.com/cam/capi)ページから取得できます。
- 入力するとき、この情報の正確性を確保してください。間違えて入力した場合、あなたの署名が無効な署名であるとみなされます。

#### HTTPパラメータ情報の入力

下図のように、「HTTPパラメータ」欄に関連パラメータを入力します。
![avatar](https://main.qcloudimg.com/raw/8fbc5566b31777e646aa457239468cda.png)
主なパラメータは以下のとおりです。
- **HttpMethod：**選択必須項目。HTTPリクエスト方法は、GET、POST、PUT、DELETEを含みます。
- **HttpURI：**必須入力項目。HTTPリクエストのURI部分、すなわち、リクエストする対象オブジェクト名です。
- **HttpParameters：**選択可能項目。HTTPリクエストパラメータ。URLパラメータを検証するときにこのパラメータを入力できます。そのうち、keyは小文字で、valueはURLEncodeを実行し、複数のkeyは辞書順で並び替えます。
 例えば、「prefix=abc」は、アクセスオブジェクトのプレフィックスがabcのオブジェクトを指定することを示します。
- **HttpHeaders：**選択可能項目。HTTPリクエストヘッダー。URLパラメータを検証するときにこのパラメータを入力できます。そのうち、keyは小文字で、valueはURLEncodeを実行し、複数のkeyは辞書順で並び替えます。
 例えば、「Host: bucket1-1254000000.cos.ap-beijing.myqcloud.com」は、この署名でアカウント1254000000のバケットbucket1の指定ファイルにアクセスできることを示します。

関連するHTTPリクエストパラメータの詳細については、[リクエスト署名](https://cloud.tencent.com/document/product/436/7778#signature-.E8.AE.A1.E7.AE.97)を参照してください。

#### 署名の生成およびプロセスパラメータの表示

【署名生成】をクリックすると、下図のように、右側の「結果返答」でリクエスト署名結果を確認できます。
COS署名ツールは、生成される最終署名と計算署名プロセス中のプロセスパラメータをそれぞれ表示します。関連プロセスパラメータの詳細については、[リクエスト署名](https://cloud.tencent.com/document/product/436/7778#signature-.E8.AE.A1.E7.AE.97)を参照してください。

![avatar](https://main.qcloudimg.com/raw/4e5d3164848078e4ac2dc0b9b767ca00.png)

### JSONバージョン署名ツール

#### 基本構成情報を入力する

1. [COS署名ツール](https://cos5.cloud.tencent.com/static/cos-sign/)をクリックし、「COS署名ツール」ページに入ります。
2. 下図のように、「基本情報」欄に、APIバージョン、バケット名および現在の時間を入力します。
![avatar](https://main.qcloudimg.com/raw/8b764cd2bef9d2d64a3b8faeb26afff1.png)
API暗号鍵の情報は必須入力項目です。
- APIバージョン：JSONバージョンAPIを選択します。
- バケット名：アクセスするバケット名を入力します。フォーマット：bucketname-appid。
- 現在の時間：現時点でシステムの時間。Unix Epochタイムスタンプ規則に適合する数値です。単位は秒。指定した時間を入力し、指定タイムスタンプの署名結果を表示できます。

#### API暗号鍵情報の入力

「API暗号鍵」欄にAPI暗号鍵情報を入力します。
この情報は、選択必須項目であり、コンソールの[API暗号鍵管理](https://console.cloud.tencent.com/cam/capi)ページから取得できます。
入力するとき、この情報の正確性を確保してください。間違えて入力した場合、あなたの署名が無効な署名であるとみなされます。

#### HTTPパラメータ情報の入力

下図のように、「HTTPパラメータ」欄に関連パラメータを入力します。
![avatar](https://main.qcloudimg.com/raw/621bd5458b8da2dcfc6eea7d707fecbb.png)
主なパラメータは以下のとおりです。
- **ExpiredTime：**選択必須項目。署名の有効期限切れで、単位は秒。【現在の時間】のパラメータに有効期間を追加し、署名の有効期限切れを取得できます。**単回署名のとき、有効期限切れを0に設定する必要があります**。
- **RandomId：**選択必須項目。符号なしの10進数整数のランダム文字列。
- **FilePath：**選択可能項目。ストレージリソースの相対パスをタグします。フォーマット：/[dirname]/[filename]。
   -  操作オブジェクトがフォルダの場合、filenameはデフォルトです。filenameにはファイルサフィックス名が含まれます。
   -  FilePathが空の場合、生成されるリクエスト署名は、バケット内のすべてのオブジェクトへのアクセスに適します。

関連するHTTPリクエストパラメータの詳細については、[リクエスト署名](https://cloud.tencent.com/document/product/436/6054#.E8.8E.B7.E5.8F.96.E7.AD.BE.E5.90.8D.E6.89.80.E9.9C.80.E4.BF.A1.E6.81.AF)を参照してください。

#### 署名の生成およびプロセスパラメータの表示

【署名生成】をクリックすると、右側の「結果返答」にリクエスト署名結果を表示します。
COS署名ツールは、生成される最終署名と計算署名プロセス中のプロセスパラメータをそれぞれ表示します。関連プロセスパラメータの詳細については、[リクエスト署名](https://cloud.tencent.com/document/product/436/6054#.E8.8E.B7.E5.8F.96.E7.AD.BE.E5.90.8D.E6.89.80.E9.9C.80.E4.BF.A1.E6.81.AF2)を参照してください。

## 注意事項
- 本署名ツールは、入力されたパラメータエラーを識別、通知できません。本ツールでリクエスト署名を計算し、SDKまたはその他のツールの計算結果と比較するとき、本ツールは、入力されたパラメータエラーを自動的に修正できません。
- 本署名ツールは、入力された不正なパラメータを識別し、適切な通知を行います。それにしても署名検証に合格しないリクエスト署名を生成する場合があります。
- 本署名ツールは、入力されていない必須パラメータ項目を識別、通知します。また、必須パラメータ項目を入力していない場合、リクエスト署名を生成できません。
