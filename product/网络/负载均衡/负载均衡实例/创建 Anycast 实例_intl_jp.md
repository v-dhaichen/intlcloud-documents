CLBはAnycast負荷分散（以下、Anycast CLBとも言う）インスタンスを作成することをサポートしており、Anycast CLBはグローバルなDSAをサポートするCLBサービスです。CLBのVIPは世界の複数の地域でリリースされており、クライアントは最も近いPOPアクセスポイントにアクセスし、Tencent Cloudデータセンターの高速インターネットを介してCVMに転送します。
Anycast CLBを利用すると、ネットワーク伝送の品質最適化とマルチポータルの最寄りアクセスが可能となり、ネットワーク伝送のジッタ、パケットロスが減少し、最終的にクラウド上のアプリケーションのサービス品質が向上され、サービス範囲の拡大やバックエンド配置の合理化も実現できました。この機能は現在内部テスト中なので、必要な場合は、[内部テスト申請](https://cloud.tencent.com/act/apply/aia)を提出してください。

## Anycastとは？
Anycastはエニーキャストとも言います。同じIPが複数の地域で同時にリリースしてルーティングされることを指し、ルーティングアルゴリズムはユーザーのトラフィックを最も近いルータに送信します。
Anycast CLBには以下のメリットがあります。
- **低い遅延**
Anycast CLBはAnycast方式で複数の地域に同時にVIPをリリースし、リクエストパケットは伝送プロトコルに基づいて最適なVIP公開地域に到着し、Tencent Cloudに優先的に入って、Tencent Cloudプライベートネットワークを介してCVMに到達し、パブリックネットワークの混雑を回避して、遅延の減少を実現します。
- **ジッタやパケットロスの低減**
パブリックネットワークリンク伝送性能の不安定さ（例：南北地区間伝送問題や国間伝送問題など）によりネットワークでジッタやパケットロスが発生すると、サービス体験にも影響を及ぼします。Anycast CLBは伝送性能が安定しており、クライアントのリクエストを最寄りのTencent Cloudに伝送した後、Tencent Cloudのプライベートネットワーク専用回線を通して地域間の伝送を行い、パブリックネットワークのジッタやパケットロスの問題を解決しました。
- **高い信頼性**
パブリックネットワーク伝送は信頼性の低い伝送であり、通信事業者回線の中断によりアクセスが不可能になった場合、一般的なユーザーは回復を待つことしかできません。Anycast CLBを使用すると、Tencent Cloudプライベートネットワーク、通信事業者のネットワークおよびTencent Cloud POPアクセスポイントを通じてネットワークマルチパスと複数の入力ポートが利用可能となり、単一地域および単一回線の障害がブロックされ、ネットワークの安定性が向上しました。
- **配置の簡略化**
顧客が様々な場所に散らばっていて、最寄りのサーバーにアクセスしたい場合は、多くの場所にサーバーを配置し、CLBを実現するためにDNSも構成する必要があります。また、IPアドレスが異なるので配置も面倒です。Anycast CLBを使用すると、IPレベルで地域属性が収束され、各地域でそれぞれIPを構成する必要がなく、バックエンドでの保守管理は1つのロジックで解決できます。各地域のリクエストはプライベートネットワークでバックエンドサーバーに直接加速送信されます。

## Anycast CLBのアーキテクチャ
Anycast CLBのアーキテクチャは下図に示す通りです。
![](https://main.qcloudimg.com/raw/08a51e333f26f4b123703dfb7922fc68.svg)
Anycast CLBのVIPは世界の複数の地域にリリースされているため、クライアントは最寄りのPOPアクセスポイントにアクセスし、Tencent Cloudプライベートネットワークを介してアクセストラフィックを高速でCVMに転送します。

### Anycast公開ドメイン
Anycast公開ドメインは高速IPアドレスがリリースされる地域、すなわちAnycast CLBのVIPがリリースされるアクセスポイントであり、クライアントは最寄りのPOPアクセスポイントにアクセスします。現在、Anycast CLBは以下の公開ドメインをサポートしています。
- 公開ドメインA：主に中国と欧米地区であり、VIPは北京、上海、広州、中国香港、トロント、シリコンバレー、フランクフルト、バージニアおよびモスクワで同時にリリースされる予定です。
- 公開ドメインB：主に中国と東南アジア地区であり、VIPは北京、上海、広州、中国香港、シンガポール、ソウル、ムンバイ、バンコクおよび東京で同時にリリースされる予定です。

### Anycast CLBの所属地域
一般的なCLBの地域の概念と同様、Anycast CLBの所属地域はAnycast CLBを購入する時に選択した地域であり、また、バックエンドCVMの所在地域とも指します。現在、Anycast CLBはほとんどの地域をカバーしています。
- 中国：北京、上海、広州、香港。
- 欧米：トロント、シリコンバレー、フランクフルト、バージニア、モスクワ。
- 東南アジア：シンガポール、ソウル、ムンバイ、バンコク、東京。
>!
>- Anycast CLBは**アプリケーション型**CLBのみをサポートしており、従来型CLBはサポートしていません。
>- Anycast CLBは現在、**4層プロトコル（TCP/UDP）**のみをサポートしており、7層プロトコル（HTTP/HTTPS）はサポートしていません。
>- Anycast CLBは、S4、SN3ne、S2ne、M4、GN6s CVMをサポートしません。


## Anycast CLBの適用シナリオ
### グローバルで利用可能なサーバー
ゲーム開発者は世界中の異なる地域のプレーヤーが皆同じ区にいることを期待する場合（または、企業の世界各地にある支社は同じデータセンターを利用したい場合）。このとき、RSを1つの地域（例：広州）に配置し、広州地域のAnycast CLBを購入して、必要に応じて公開ドメインを選択することで、世界のプレイヤー（または従業員）が最寄りにアクセスし、同じRSにアクセスします。
![](https://main.qcloudimg.com/raw/ec37cb1cdfce0cdee1bbc60598558e4c.svg)

### ゲームの加速
Anycast CLBのゲームの加速化における応用も非常に幅広く、ゲームリクエストが最寄りのTencent Cloudにアクセスし、Tencent Cloudのプライベートネットワークを通してゲームサーバーに到達し、途中のパブリックネットワークパスが大幅に短縮され、遅延、ジッタ、パケットロスなどの問題も低減されました。従来の加速機能と比べて、ポータルでトラフィック受信デバイスの追加配置が不要で、地域別を分ける必要もないので、DNSの配置が簡単になりました。
![](https://main.qcloudimg.com/raw/172c214c17258a279856a7e4ea0c2200.svg)


## 操作ガイド
### Anycast CLBインスタンスの作成
1. Tencent Cloudにログインし、[CLB購入ページ](https://buy.cloud.tencent.com/lb)に進みます。
2. インスタンスタイプは**アプリケーション型CLB**を選択し、高速IPのところで【Anycast高速IPの有効化】にチェックを入れ、その他の構成は[一般的なインスタンスの構成](https://cloud.tencent.com/document/product/214/8975#2.-.E8.B4.AD.E4.B9.B0.E5.B9.B6.E9.85.8D.E7.BD.AE.E5.85.AC.E7.BD.91.E5.BA.94.E7.94.A8.E5.9E.8Blb)と同じです。
3. 購入完了後、[CLBインスタンスリストのページ](https://console.cloud.tencent.com/loadbalance/index?rid=1&forward=1)に戻ると、既に購入したAnycast CLBを確認することができます。
![](https://main.qcloudimg.com/raw/4eac4325d24c4138daf2c46704672851.png)

### Anycast CLBの使用
1. [CLB管理コンソール](https://console.cloud.tencent.com/loadbalance/index?rid=1&forward=1)にログインし、「LBインスタンスリスト」に進みます。
2. インスタンスIDをクリックし、詳細ページに進みます。
3. **リスナー管理**ページでリスナーの構成、転送規則の設定、CVMのバインディングができます。詳細については、[アプリケーション型LBクイックスタート](https://cloud.tencent.com/document/product/214/8975)を参照してください。
![](https://main.qcloudimg.com/raw/a884a2e0a51cecf5056ca6053c9c2da5.png)

