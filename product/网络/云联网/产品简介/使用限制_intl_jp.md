CCNは現在、内部テストの段階にあるため、[内部テストの申請](https://cloud.tencent.com/apply/p/tp2478t9skn)を提出する必要があります。審査に合格した後、使用することができます。


## リソース制限
CCNリソースのサポート制限は以下に示すとおりです。さらに[VPCのその他製品の使用制限](https://cloud.tencent.com/document/product/215/537)で確認することができます。
<table>
<tr>
<th>リソース</th>
<th>制限（個）</th>
</tr>
<tr>
<td>各アカウントが作成できるCCN数</td>
<td>5</td>
</tr>
<tr>
<td>各CCNインスタンスがバインディングできるネットワークインスタンス数</td>
<td>25 </td>
</tr>
<tr>
<td>各CCNのルーティングエントリ数</td>
<td>制限なし</td>
</tr>
</table>

## 機能制限
**ピアツーピア接続との相互接続非推移性**

ピアツーピア接続の確立はVPCがCCNに加わった後に発生する相互接続に影響を及ぼさず、CCNはこれと関連付けられたネットワークインスタンスにルーティングを送信して相互接続を実現するだけです。
例えば、以下の図に示すとおり、VPC1とVPC2の間ピアツーピア接続が既に確立され、VPC1がCCNに加わった後、VPC1のみがCCN中のネットワークインスタンスVPC3、IDCと相互接続することができ、VPC2はピアツーピア接続を介してのみVPC1と相互接続でき、CCNにおけるその他のインスタンスと相互接続することができません。
![イメージの説明](https://main.qcloudimg.com/raw/a5bf37fc71f3410db9ac4361b936796d.png)

## ルーティングの制限
CCNは複数のネットワークインスタンスを相互接続させることができるため、各インスタンスの間をスムーズに相互接続させるため、ネットワークインスタンスのCIDRに対して一定の制限があります。

### VPCのCIDR制限

CCNはサブネットレベルでCIDR制限を設定しており、すなわち、異なるVPCにおける2つのCIDRが完全に同じであるサブネットは相互接続を実現することができません。ルーティング有効化規則については、以下の文におけるCIDR重複競合原則を参照してください。それに対応して、2つのVPCのCIDRが重複していたとしても、それが含むサブネットのCIDRが異なる場合、CCNに加わり相互接続を実現することができます。

### CIDR重複競合原則

1. ネットワークインスタンスのCIDRが重複する場合、先にCCNインスタンスと関連付けられたネットワークインスタンスのルーティングエントリが有効であり、後に関連付けられたものが無効です。
2. ネットワークインスタンスがCCNに加わった後、操作によりルーティングの競合が発生した場合（例：サブネットの新規作成）、このルーティングは無効となり、既存の有効なルーティングが有効のままとなります。

### CIDR包含競合原則

複数のネットワークインスタンスのCIDRに包含関係がある場合、先にCCNに関連付けられたインスタンスが対応するルーティングエントリが有効となり、後に関連付けられたものは無効となります。しかし、ルーティングテーブルにおいてこのルーティングを有効化することができ、有効化した後、最長マスク一致規則でデータを転送します。

#### 包含競合の例
VPC1はまずCCNインスタンスAと関連付けれられ、そのサブネットのCIDRは10.0.1.0/20であり、CCN内のその他のインスタンスと相互接続することができます。この時、VPC2はCCNインスタンスAと関連付けられ、そのサブネットのCIDRは10.0.1.0/24（VPC1におけるサブネットのCIDRに含まれます）の場合、CIDRの包含競合が発生するため、VPC2このサブネットのルーティングポリシーのステータスはデフォルトで無効となり、当面CCN内のその他のインスタンスと相互接続することができません。

サブネットBのルーティングテーブルにおいてこのルーティングを有効化することができ、有効化の後、最長マスク一致規則でデータが転送されます。ルーティングポリシーの対象側が10.0.1.0/24である時、規則に基づき、VPC2のサブネットBに転送されます。
