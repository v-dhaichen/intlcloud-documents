CCN은 현재 내부 테스트 단계에 있기 때문에 사용하려면 [내부 테스트 신청](https://cloud.tencent.com/apply/p/tp2478t9skn)을 제출하여 심사 통과해야 합니다.


## 리소스 제한
CCN 리소스 제한은 다음과 같습니다. [VPC 기타 제품의 사용 제약](https://cloud.tencent.com/document/product/215/537)을 조회할 수도 있습니다.
<table>
<tr>
<th>리소스</th>
<th>제한(개)</th>
</tr>
<tr>
<td>계정별로 생성할 수 있는 CCN 개수    </td>
<td>5 </td>
</tr>
<tr>
<td> CCN 인스턴스별로 바인딩할 수 있는 네트워크 인스턴스 수    </td>
<td>25 </td>
</tr>
<tr>
<td> CCN 라우팅별 항목 수    </td>
<td>제한 없음</td>
</tr>
</table>

## 기능 제한
**피어링 연결과 서로 통하지 않음**

피어링 연결이 VPC가 CCN에 추가되어 생성한 연결에 영향을 끼치지 않습니다. CCN은 연결된 네트워크 인스턴스에만 라우팅 배포를 구성하여 서로 연결을 구현합니다.
예를 들어 아래 그림처럼 VPC1과 VPC2 사이에 이미 피어링 연결이 생성되었습니다. VPC1을 CCN에 추가하면 VPC1만 CCN의 네트워크 인스턴스 VPC3, IDC와 서로 통할 수 있습니다. VPC2는 피어링 연결을 통해서 VPC1만과 서로 통할 수 있으며, CCN의 기타 인스턴스와는 서로 연결되지 않습니다.
![그림 설명](https://main.qcloudimg.com/raw/a5bf37fc71f3410db9ac4361b936796d.png)

## 라우팅 제한
CCN은 멀티 네트워크 인스턴스를 서로 연결할 수 있게 하기 때문에 인스턴스끼리 순조로운 서로 연결을 위해 네트워크 인스턴스의 CIDR에는 일정 제한이 있습니다.

### VPC의 CIDR 제한

CCN은 서브넷에서 CIDR 제한을 설정합니다. 즉 각기 다른 VPC 중 CIDR이 완전히 동일한 2개의 서브넷은 상호 연결될 수 없습니다. (라우팅 적용 규칙은 아래 CIDR 중첩 충돌 원칙을 참조하십시오.) 또는 2개 VPC의 CIDR이 중첩되었지만 각각에 포함한 서브넷의 CIDR이 다르면 여전히 CCN에 추가되어 상호 연결이 가능합니다.

### CIDR 중첩 충돌의 경우

1. 네트워크 인스턴스 CIDR이 중첩되면 가장 먼저 CCN 인스턴스와 연결된 네트워크 인스턴스 라우팅 항목은 유효합니다. 나머지는 무효합니다.
2. 네트워크 인스턴스가 CCN에 추가된 후 작업시 라우팅 충돌이 발생하면(예를 들러, 서브넷 생성), 해당 라우팅은 무효화 되고 기존의 유효 라우팅은 유효 상태를 유지합니다.

### CIDR 포함 충돌의 경우

여러 개의 네트워크 인스턴스의 CIDR이 포함 관계일 경우, 가장 먼저 CCN에 연결된 인스턴스에 해당하는 라우팅 항목은 유효하며 나머지 연결은 무효합니다. 하지만 라우팅 테이블에서 해당 라우팅을 활성화할 수 있으며, 활성화한 후 최장 마스크 매칭 규칙에 따라 데이터를 포워딩합니다.

#### 포함 충돌 예시
VPC1은 우선 CCN 인스턴스 A와 연결되며, 그의 서브넷의 CIDR은 10.0.1.0/20이고 CCN 내 기타 인스턴스와 서로 연결됩니다. 이때 VPC2도 CCN 인스턴스 A와 연결되고 해당 서브넷의 CIDR은 10.0.1.0/24(VPC1 중 서브넷의 CIDR에 포함됨)입니다. 이럴 때 CIDR 포함 충돌이 발생하기 때문에 VPC2의 해당 서브넷의 라우팅 전략 상태는 기본적으로 무효가 되어 CCN 내 기타 인스턴스와 서로 연결할 수 없습니다.

서브넷 B의 라우팅 테이블에서 해당 라우팅을 활성화할 수 있으며 활성화 후 최장 마스크 매칭 규칙으로 데이터를 포워딩합니다. 라우팅 전략 대상 포트가 10.0.1.0/24일 경우, 규칙에 따라 VPC2의 서브넷 B에 포워딩하게 됩니다.





