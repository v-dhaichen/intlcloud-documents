Window function is a special function that is not used in the projection list of SELECT, but in the GROUP BY clause. SCS supports three types of window functions: TUMBLE, HOP and SESSION.

### TUMBLE WINDOW
TUMBLE windows are non-overlapped consecutive windows with equal periods.
#### Syntax
`TUMBLE(time_attr, interval)`
 
For information on interval, see Time-Related Function.
The first parameter is the timestamp. If WATERMARK is not defined, `PROCTIME`, which is a timestamp generated by the system automatically, is used, indicating the timestamp when each record is processed.
>**Note:**
>In the Event Time mode (where WATERMARK FOR BOUNDED is used to define the timestamp field), the first parameter of the TUMBLE window function must be this field. In the Processing Time mode, the first parameter of the TUMBLE window function must be PROCTIME (uppercase). This applies to both HOP and SESSION.

#### Example
`TUMBLE(rowtime, INTERVAL '1' DAY)`
"rowtime" is the timestamp field of the data source.

`TUMBLE(PROCTIME, INTERVAL '2' HOUR)`
"PROCTIME" is the system-generated timestamp when each record is processed.

TUMBLE windows are as below:
![](https://main.qcloudimg.com/raw/929281540cd32e2ae25f9545e806b34b.png)

### HOP WINDOW
A HOP window is a sliding-window, which slides for a specified time period with its size unchanged. Therefore, HOP windows can overlap with each other.
#### Syntax
`HOP(time_attr, sliding_interval, window_size_interval)`

#### Example
`HOP(rowtime, INTERVAL '1' HOUR, INTERVAL '1' DAY)` 
It indicates a HOP window with a window size of 1 day and a sliding period of 1 hour.

HOP windows are as below:
![](https://main.qcloudimg.com/raw/302b9e539861ce455d9b37d31ff7dad3.png)

### SESSION WINDOW
A Session window is divided by inactive time instead of window length. For example, if a user has been inactive (no new data) for more than 30 minutes, the current window ends. A new window is generated when any data is generated.
#### Syntax
`SESSION(time_attr, interval)`
#### Example
`SESSION(rowtime, INTERVAL '12' HOUR)`

SESSION windows are as below:
![](https://main.qcloudimg.com/raw/f2135fdb0181a01227dfd59e38354b2e.png)

All three windows have corresponding auxiliary functions. For example, the auxiliary functions of TUMBLE windows are as follows. Those of HOP and SESSION windows are similar, but with different prefixes.
- **TUMBLE_START**: Indicates the starting time (included) of TUMBLE windows.
Example:
```
SELECT user,
TUMBLE_START(rowtime, INTERVAL '1' DAY) as wStart, 
SUM(amount) FROM Orders 
GROUP BY TUMBLE(rowtime, INTERVAL '1' DAY), user
```

- **TUMBLE_END**: Indicates the end time (not included) of TUMBLE windows. It can only be used for columns after SELECT, and cannot be used as JOIN, GROUP or OVER conditions. If necessary, use TUMBLE_ROWTIME or TUMBLE_PROCTIME according to current time mode (Event Time or Processing Time), as shown below.
TUMBLE_ROWTIME: Indicates the end time (included) of TUMBLE windows. It can be used as JOIN, GROUP and OVER conditions in Event Time mode.
Example:
```
SELECT user,
TUMBLE_START(rowtime, INTERVAL '12' HOUR) AS sStart,
TUMBLE_ROWTIME(rowtime, INTERVAL '12' HOUR) AS snd,
SUM(amount)
FROM Orders
GROUP BY TUMBLE(rowtime, INTERVAL '12' HOUR), user
```

- **TUMBLE_PROCTIME**: Indicates the end time (included) of TUMBLE windows. It can be used as JOIN, GROUP and OVER conditions in Processing Time mode.
Example:
```
SELECT user,
TUMBLE_START(PROCTIME, INTERVAL '12' HOUR) AS sStart,
TUMBLE_PROCTIME(PROCTIME, INTERVAL '12' HOUR) AS snd,
SUM(amount)
FROM Orders
GROUP BY TUMBLE(PROCTIME, INTERVAL '12' HOUR), user
```

