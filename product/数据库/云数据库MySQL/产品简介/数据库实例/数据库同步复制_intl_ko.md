데이터베이스 인스턴스 복제는 서버에 한 개 또는 여러 개의 백업 데이터베이스를 구성하는 방식으로 데이터 동기화를 진행하여, MySQL 데이터를 여러 시스템에 배포한다는 것을 말합니다. TencentDB for MySQL은 인스턴스 구매 시 데이터 인스턴스 복제 방식을 지정할 수 있습니다. TencentDB for MySQL은 세 가지 데이터 복제 방식을 지원합니다. 그 중 Master는 기본 데이터베이스 인스턴스, Slave는 백업 데이터베이스를 가리킵니다.
### 비동기화 복제
응용프로그램이 데이터 업데이트(insert, update, delete 작업 포함) 요청을 시작하고, Master는 업데이트 작업을 완료한 후 즉시 애플리케이션으로 응답을 반환하고 Master는 Slave에 데이터를 복사합니다.
데이터 업데이트 중 Master는 Slave의 응답을 기다릴 필요가 없으므로, 비동기식으로 복제된 데이터베이스 인스턴스는 일반적으로 성능이 높고, Slave는 사용할 수 없어도 Master가 영향을 받지 않고 외부에 서비스를 제공할 수 있습니다. 하지만 데이터가 실시간으로 Slave에 동기화되지 않아서 Master가 Slave에 지연이 있을 때 고장이 발생하면 적은 확률로 데이터 불일치가 일어날 수 있습니다.
TencentDB for MySQL 비동기화 복제는 1 마스터 1 슬레이브 아키텍처를 사용합니다.

### 반동기화 복제
응용프로그램이 데이터 업데이트(insert, update, delete 조작 포함) 요청을 시작하고, Master는 업데이트 작업을 완료한 후 즉시 Slave에 데이터를 복사하고, Slave가 **데이터를 수신하여 relay log에 기록(실행할 필요 없음)**을 한 후에야 Master에 성공 메시지를 반환합니다. Master는 Slave의 성공 메시지를 수신한 후 애플리케이션에 응답을 반환해야 합니다.
데이터 복제에 이상(Slave 노드를 사용할 수 없거나 데이터 복제에 사용된 네트워크 이상)이 발생하는 경우에만 Master는 응용프로그램에 대한 응답을 잠시 중단하고(MySQL 기본값은 약 10초), 복제 방식을 비동기화 복제로 다운그레이드합니다. 데이터 복제가 정상으로 복구되면 반동기화 복제로 되돌아갑니다.
TencentDB for MySQL 반동기화 복제는 1 마스터 1 슬레이브 아키텍처를 사용합니다.

### 강제 동기화 복제
응용프로그램이 데이터 업데이트(insert, update, delete 조작 포함) 요청을 시작하고, Master는 업데이트 작업을 완료한 후 즉시 Slave에 데이터를 복사하고, Slave가 **데이터를 수신하여 실행 완료**한 후에야 Master에 성공 메시지를 반환할 수 있습니다. Master는 Slave의 성공 메시지를 수신한 후 애플리케이션에 응답을 반환해야 합니다.
Master의 Slave에 대한 데이터 복제가 동기화로 진행되어, Master의 매번 업데이트 작업이 Slave도 실행 성공을 동시에 보장해야 하므로 강제 동기화 복제는 최대한 마스터와 슬레이브 데이터의 일치성을 보장할 수 있습니다. 하지만 매번 Master 업데이트 요청이 Slave의 반응에 강제적 의존하므로, Slave가 한대만 있으면 사용 불가일 경우 Master의 조작에 큰 영향을 미칠 수 있습니다.
TencentDB for MySQL 강제 동기화 복제는 1 마스터 2 슬레이브 아키텍처를 채택하여, 그 중 하나의 Slave만 성공적으로 실행되면 응답할 수 있어서 Slave 하나만 있는 경우 사용 불가 시 Master의 조작에 영향을 미치는 문제를 해결하고, 강제 동기화 복제 클러스터의 가용성을 높입니다.

