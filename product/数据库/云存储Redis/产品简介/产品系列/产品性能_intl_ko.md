## 사양 시리즈
### Redis 커뮤니티 버전 엔진

|기능        |  스탠드 얼로운 | 마스터/슬레이브 버전         | 클러스터 버전           |  
|:-------------: | :---------: |:-----------:| :----------: | 
| 호환하는 Redis 버전 | 2.8       | 2.8         | 4.0        |
| 메모리 사양          | 1GB - 60GB  | 0.25GB - 60GB | 12GB - 4TB |
| 샤딩 수        | -         | -           | 3 - 128    | 
| QPS           | 8만 - 10만     | 8만 - 10만       | 천만 수준     | 
| 연결 수           |   10000   | 10000       | 10000/샤딩     | 
| 트래픽 제한           |  10MB/S - 64MB/S   | 10MB/S - 64MB/S       | 72MB/S - 5GB/S     | 
|멀티 DB       |          지원           |      지원        |      지원하지 않음      |
|Mget, Mset |         지원           |        지원       |       지원        |
|lua           |             지원         |       지원         |     제한적 지원    |
|수평 용량 확장|           -          |    -      |       지원      |
|수직 용량 확장|             -         |     -       |       지원       |
|읽기/쓰기 분리|        지원하지 않음               |    지원하지 않음      |      지원      |
|GEO 지원|          지원하지 않음             |    지원하지 않음      |     지원      |

### CKV 엔진

|기능        | 마스터/슬레이브 버전 | 클러스터 버전        |   
| :-------------: | :---------: | :-----------: | 
| 호환하는 Redis 버전 | 3.2       | 3.2         |
| 메모리 사양          | 4GB - 384GB | 12GB - 48TB |
| 샤딩 수        | -         | 3 - 128     |
| QPS           |  8만 - 12만    | 천만 수준      |
| 연결 수           |  12000 - 24000    | 12000/샤딩 - 24000/샤딩      |
| 트래픽 제한           |  16MB/S - 256MB/S    | 72MB/S - 32GB/S      |
|멀티 DB       |      지원        |       지원        |
|Mget, Mset |     지원     |      지원      |
|lua          |      지원     |     제한적 지원     |
|수평 용량 확장|    -      |       지원       |
|수직 용량 확장|    -       |    지원하지 않음      |
|읽기/쓰기 분리|    지원하지 않음      |    지원하지 않음      |
|GEO 지원|      지원      |     지원     |



### 인스턴스 사양이 연결 수와 트래픽에 해당
**Redis 엔진 버전**

| 사양(GB) | 최대 연결 수 | 최대 처리량(MB/s) |
|  :----------: |  :----------: |  :-------------------: |
| 0.25          | 3000       | 10                  |
| 1          | 10000       | 16                  |
| 2          | 10000       | 24                  | 
| 4          | 10000       | 24                  |
| 8          | 10000       | 24                  |
| 12         | 10000       | 32                  | 
| 16         | 10000       | 32                  | 
| 20         | 10000       | 48                  |
| 24         | 10000       | 48                  | 
| 32         | 10000       | 48                  | 
| 40         | 10000       | 64                  | 
| 48         | 10000       | 64                  | 
| 60         | 10000       | 64                  | 

**CKV 엔진 버전**

| 사양(GB) | 최대 연결 수 | 최대 처리량(MB/s) | 
|  :----------: |  :----------: |  :-------------------: |
| 4          | 10000       | 24                  |
| 8          | 10000       | 24                  |
| 16         | 10000       | 32                  | 
| 24         | 10000       | 32                  | 
| 32         | 10000       | 32                  | 
| 48         | 18000      | 64                  | 
| 64         | 18000      | 64                  | 
| 80         | 18000      | 64                  |
| 96         | 18000      | 64                  | 
| 128        | 24000      | 128                 | 
| 160        | 24000      | 128                 | 
| 192        | 24000      | 128                 | 
| 256        | 24000      | 256                 | 
| 320        | 24000      | 256                 | 
| 384        | 24000      | 256                 | 

클러스터 버전 연결 수 = 샤딩 연결 수 * 샤딩 수
클러스터 버전 처리량 = 샤딩 처리량 * 샤딩 수
>!9000 연결 수의 오래된 인스턴스는 용량 확장 또는 사양 하양 후 연결 수가 10000으로 자동 변경됩니다.

## 성능 데이터
### 성능 참고값
성능값은 생산 환경에서 Redis 명령 및 실행 시간에 따라 다를 수 있습니다. 이 문서의 테스트된 값은 특정 매개변수를 기반으로 하고 참조용으로만 얻어집니다. 실제 성능값을 얻으려면 실제 서비스에 대한 테스트를 수행하십시오.

 - 단일 노드 테스트 성능
  
|  Redis 인스턴스 사양 | 연결 수 | QPS 값 |
|:---------:|:---------:|:--------:|
| Redis 스탠드 얼로운 8GB | 9000 | 8만 - 10만 |
| Redis 마스터/슬레이브 버전 8GB | 10000 | 8만 - 10만 |
| Redis 클러스터 버전 8GB | 10000 | 8만 - 10만 |
| CKV 마스터/슬레이브 버전 8GB|  12000    |   8만 - 12만  |

 
 - 클러스터 버전 테스트 성능
   Redis 클러스터 버전 성능 = Redis 마스터/슬레이브 버전 성능 * 샤딩 수
   CKV 클러스터 버전 성능 = CKV 마스터/슬레이브 버전 성능 * 샤딩 수


### 테스트 방법

 - 테스트 환경
 
| 압력 테스트 클라이언트 CVM 수량 | CVM 코어 | CVM 메모리 | 지역 | Redis 인스턴스 크기 |
|:---------:|:---------:|:---------:|:---------:|:---------:|
| 3 | 2 코어 |8GB | 광저우 2지역 |Redis 스탠드 얼로운 8GB | 
| 3 | 2 코어 |8GB | 광저우 2지역 |Redis 마스터/슬레이브 버전 8GB | 
| 3 | 2 코어 |8GB | 광저우 2지역 |CKV 마스터/슬레이브 버전 8GB|


 - 테스트 매개변수
 ```
redis-benchmark -h 10.66.187.x -p 6379 -a crs-1znib6aw:chen2016 -t set -c 3500 -d 128 -n 25000000 -r 5000000
redis-benchmark -h 10.66.187.x -p 6379 -a crs-1z5536aw:chen2016 -t set -c 3500 -d 128 -n 25000000 -r 5000000
redis-benchmark -h 10.66.187.x -p 6379 -a crs-090rjlih:1234567 -t set -c 3500 -d 128 -n 25000000 -r 5000000
```
 - QPS 계산
3대 압력 테스트 클라이언트 redis-benchmark의 QPS 합계를 계산합니다.



