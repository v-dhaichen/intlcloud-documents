##　操作シナリオ
TencentDB for Redis ではインスタンスの仕様変更が可能なため、容量をフレキシブルに伸縮できます。サービスの状況に応じてフレキシブルに Redis インスタンスの仕様を調整できます。そのため、リソースのフル活用や、リアルタイムでのコスト最適化などのニーズをより満たすことができます。本項では、TencentDB for Redis のコンソールでインスタンス仕様を変更するプロセスについて説明します。

## 操作手順
### マスタースレーブ版の容量伸縮
>!
>- マスタースレーブ版で容量を拡張する際、ローカルの残存容量が拡張に必要な量に満たない場合は、マイグレーションが発生します。そのプロセスはサービスのアクセスに影響しませんが、マイグレーションの完了後に切断と再接続が起こります。サービス側で再接続の仕組みを備えておくことを推奨します。
>- マスタースレーブ版の最大容量は384GBです。そのため、マスタースレーブ版の容量が384GBに達すると、それ以上容量を拡張できません。
>- 容量縮小の最小値は、そのインスタンスが既に使用した容量の1.3倍です。容量縮小後、システムは自動で返金を行います。

1. [Redis コンソール](https://console.cloud.tencent.com/redis)にログインします。
1. インスタンスリストのページで容量を伸縮するインスタンスを選択し、【設定変更】>【容量拡張】または【容量縮小】を選択します。
2. ポップアップされた設定変更ページから変更する容量を選択し、【OK】をクリックします。
3. インスタンスリストに戻り、インスタンスのステータスが【実行中】になれば正常に使用できます。
![](https://main.qcloudimg.com/raw/875d18da0c846e8035450621806399fe.png)

### クラスタ版の容量伸縮
>!
>- 設定変更後、インスタンスは新たな仕様に従って課金されます。
>- 容量の縮小に失敗しないよう、縮小後のインスタンス容量は現在のデータ量の1.3倍以上になることが求められます。
>- シャーディングの追加と削除を行う際、システムが自動で Slot 配置のバランスを取り、データを移行します。移行に失敗することもあるため、サービスのアクセスに影響がないようサービスのピーク時以外に操作することをお勧めします。

1. インスタンスリストのページで容量を伸縮するインスタンスを選択し、【設定変更】から【シャーディング追加】、【シャーディング削除】、【シャーディング容量拡張】、【シャーディング容量縮小】、【コピー追加】、【コピー削除】を選択することで、クラスタの容量伸縮操作を実行できます。
2. ポップアップされた設定変更ページから変更する設定を選択し、【OK】をクリックします。
3. インスタンスリストに戻り、インスタンスのステータスが【実行中】になれば正常に使用できます。
![](https://main.qcloudimg.com/raw/6badb0326a5c0826f25875199f3d27ce.png)
