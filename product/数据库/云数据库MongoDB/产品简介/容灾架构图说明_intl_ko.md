TencentDB for MongoDB는 마스터 슬레이브 핫 백업 아키텍처를 이용하여 마스터 노드가 고장났을 때, 서버가 자동으로 슬레이브 노드로 전환합니다. 마스터와 슬레이브 간 전환 시, 10초 정도의 플래시 오프가 발생할 수 있으니 비즈니스에 자동 재시도를 설정하십시오. 자동 재해 복구의 원리 절차는 다음과 같습니다.
1. 예상 밖의 상황으로 인해 마스터 노드가 도달하지 못한 경우, 클러스터 내부에서 자동으로 새로운 마스터 노드를 선택합니다.
2. 고장난 것이 마스터 노드일 경우, 다시 불러오기할 때 해당 노드가 슬레이브 노드로 변하게 됩니다. 불러오기를 실패했을 경우, 사용자가 선택한 클러스터 규모에 맞게 추가적으로 새로운 노드가 클러스터에 진입하게 됩니다.
3. 이와 같이, 모든 슬레이브가 도달하지 못한 경우, 노드 불러오기를 시도하거나 새로운 노드를 추가하기를 시도합니다.
![](https://main.qcloudimg.com/raw/5b31d3c4b1d26259d0d5d900cb364fde.svg)
