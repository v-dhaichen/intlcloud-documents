### シャードクラスタの紹介
TencentDB for MongoDBは現在シャード機能をサポートしています。シャードクラスタは、シャードキー分布によって複数の物理マシンにデータをストレージします。スムーズな拡張機能はTBまたはPBのデータストレージシナリオに最適です。同時に、シャードクラスタはインスタンスレベルのバックアップとロールバックをサポートして高いデータ信頼性を保証します。サービスの高可用性を確保するために、各シャード内にマルチノードの自動防災メカニズムが採用されています。TencentDB for MongoDBシャード機能を使用すると、大規模な分散ストレージシステムを便利かつ効率的に構築できます。


### シャードクラスタの作成
MongoDB[購入ページ](https://buy.cloud.tencent.com/mongodb?clusterType=1)に移動し、「シャードクラスタ」をクリックして、必要に応じてシャード数、シャード内のノード数、およびノード仕様を選択します。各シャードはマルチノードのレプリカセットであり、シャード内のマルチノード自動防災により、サービスの高可用性を確保します。
[![](https://mc.qcloudimg.com/static/img/6fb80892b40e93cbcc19cb43d2d70b80/goumaiye.png)](https://mc.qcloudimg.com/static/img/6fb80892b40e93cbcc19cb43d2d70b80/goumaiye.png)

### シャードクラスタコンソール
コンソールで、シャードの構成、シャードノードの仕様、使用容量などのシャードクラスタインスタンスの詳細情報を確認できます。同時に、コンソールでインスタンスの更新管理と容量拡張などの操作を実行することもできます。
[![](https://mc.qcloudimg.com/static/img/6cabd8fbb7652a85648fe454b243d365/k2.png)](https://mc.qcloudimg.com/static/img/6cabd8fbb7652a85648fe454b243d365/k2.png)

### シャードクラスタの容量拡張
現在、TencentDB for MongoDBシャードクラスタの容量拡張モードはすべてのノードの統合された容量拡張のみをサポートしており、ノードの追加による容量拡張はサポートされていません。インスタンスリストページの「容量拡張」ボタンをクリックし、拡張する容量仕様を選択して【アップグレード】をクリックします。
[![](https://mc.qcloudimg.com/static/img/e723c37c10c076c03e2836dbdeec7b80/%7BADB18884-AB90-4475-B309-83F334A26A1E%7D.png)](https://mc.qcloudimg.com/static/img/e723c37c10c076c03e2836dbdeec7b80/%7BADB18884-AB90-4475-B309-83F334A26A1E%7D.png)


### バックアップとロールバック
シャードクラスタインスタンスのバックアップロールバックは、レプリカセットインスタンスのバックアップロールバックと同じです。現在、インスタンスレベルのバックアップとロールバックのみサポートしていますので、インスタンス詳細ページの【バックアップ】ボタンをクリックしてコメント情報を入力した後、【提出】をクリックしてインスタンスのバックアップを実行します。
[![](https://mc.qcloudimg.com/static/img/608e4ec72a25d7a265d07d2720c5d1ef/beifeng.png)](https://mc.qcloudimg.com/static/img/608e4ec72a25d7a265d07d2720c5d1ef/beifeng.png)
ロールバック操作中に、ロールバックの日付を入力する必要があります。現在は5日以内の任意時間のロールバックをサポートしていますが、前提として、2つのバックアップ（正常に完了し、且つoplogが書き尽くされていない状態）間の時点だけを選択してロールバックできます。満足するバックアップがない場合は、手動バックアップを1回実行してください。
[![](https://mc.qcloudimg.com/static/img/b2ef79e419a89976c96743aa7e4f6085/huidang.png)](https://mc.qcloudimg.com/static/img/b2ef79e419a89976c96743aa7e4f6085/huidang.png)

### クラスタインスタンス監視
TencentDB for MongoDBシャードクラスタインスタンスは3つのディメンションの監視メトリックを提供します。インスタンスディメンション、シャードディメンション、およびノードディメンションは、クラスタ全体のデータ監視に使用されます。操作リクエスト、容量使用、および負荷などの複数のメトリックに関する監視データを提供します。
[![](https://mc.qcloudimg.com/static/img/98766957d1748618dad40f133c0b35d2/jiank2.png)](https://mc.qcloudimg.com/static/img/98766957d1748618dad40f133c0b35d2/jiank2.png)

