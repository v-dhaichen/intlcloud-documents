## リスナーの追加
[アクセス管理]ページで、指定したチャネルの「ID/チャネル名」をクリックし、次のページに進み、[HTTP/HTTPSリスナー管理]タブを選択し、[新規作成]をクリックすると、次のようなデフォルトのポップアップウィンドウが表示されます。 
![](https://main.qcloudimg.com/raw/9c9d8652fbe2ed233f47d1edc06645e8.png)
- HTTPが選択されている場合、ポートを入力すればよく、リスナーはデフォルトでHTTPプロトコルに従って転送します。
- HTTPSが選択されている場合は、以下の図に示すように、追加の証明書およびその他の情報の設定が必要です。
![](https://main.qcloudimg.com/raw/ba7434bf587862b7124d0f7e3cfed2ce.png)
- 「リスナとオリジンサーバの間でHTTPプロトコルを使用する」とは、クライアントと加速チャネルVIPの間でHTTPSプロトコルを使用し、VIPとオリジンサーバの間でHTTPプロトコルを使用することを意味し、オリジンサーバはHTTPプロトコルポートを開いておく必要があります。「リスナとオリジンサーバの間でHTTPSプロトコルを使用する」とは、クライアントとオリジンサーバの間でHTTPSプロトコルを全過程で使用することを意味し、オリジンサーバはHTTPSプロトコルポートを開いておく必要があります。両者の主な違いとして、前者のリンク遅延がより低くなることが挙げられます。
- **SSL解析方式**：現在、一方向認証のみ、つまりクライアント認証サーバのみをサポートしています。
- **サーバ証明書**：Tencent Cloudの[SSL Certificates Management]製品で購入またはアップロードしてから、ドロップダウンリストから対応する証明書を選択します。

## 設定
[HTTP/HTTPSリスナー管理]タブで[設定]をクリックすると、次のページに移動し、ドメイン名とURL管理を行うことができます。
![](https://main.qcloudimg.com/raw/7a2336135267ddbb009ae59ed783c3d4.png)
<span id ="ルールの追加">
### ルールの追加</span>
[ルールを追加]をクリックしてドメイン名とそれに対応するURLを追加することができます。同じドメイン名に最大20個のURLルールを追加できます。具体的には、以下に示すとおりです。
1. 基本設定
![](https://main.qcloudimg.com/raw/7612828e18e9211d7d7ae9ad9040fbcb.png)
**ドメイン名**：正確にマッチする必要があり、長さが3～80であり、サポートされる文字集合は、`a-z`、`0-9`、` _`、` .`、` –`です。
**URL**：サポートされる文字集合は、a-z A-Z 0-9 _ . - /で、長さは1～80です。
**オリジンサーバタイプ**：IPとドメイン名の2種類のオリジンサーバをサポートしますが、両者の違いはTCP/UDPリスナーの説明と同じです。
2. オリジンサーバ処置ポリシー
オリジンサーバの転送処置ルールを設定し、ポーリング、ポーリングの重み付け、および最小接続数の設定をサポートします。具体的なポリシーの説明は、TCP/UDPリスナーの説明と同じです。
![](https://main.qcloudimg.com/raw/6675d07f4320542cc8cf83cef3acd829.png)
3. オリジンサーバのヘルスチェックメカニズム
モニタリングチェックメカニズムを有効にして、現在のドメイン名に対して単独のチェックURLを設定できます。リクエストモードはHEADとGETをサポートしており、チェックステータスコードはhttp_1xx、http_2xx、http_3xx、http_4xx、http_5xxをサポートすることができ、単一または複数を選ぶことができます。指定されたステータスコードが検出されると、リスナーはバックエンドオリジンサーバが正常状態であると見なし、ステータスコードが検出されないと、バックエンドオリジンサーバが異常であると見なされます。
![](https://main.qcloudimg.com/raw/d9a8ea1b9c74ba5870b0d1e6ecc5c73d.png)

### ドメイン名の変更
ドメイン名は、以下の図に示すとおり、変更することが可能です。
![](https://main.qcloudimg.com/raw/93e42fe538735de8b342d22c88a4b776.png)

### ドメイン名の削除
ドメイン名を削除する際に、そのドメイン名でオリジンサーバがバインドされたルールがある場合は、「オリジンサーバがバインドされたルールを強制的に削除する」を選択します。
![](https://main.qcloudimg.com/raw/26c780ccaeb6bffee0945f7f84ae2fec.png)

### ルールの変更
[ルールの追加](#ルールの追加)を参照して下さい。主な違いは、ドメイン名とオリジンサーバタイプを変更できないことです。

### オリジンサーバのバインド
[オリジンサーバのバインド](https://cloud.tencent.com/document/product/608/17849#.E7.AC.AC.E5.9B.9B.E6.AD.A5.EF.BC.9A.E7.BB.91.E5.AE.9A.E6.BA.90.E7.AB.99)を参照します。さまざまなオリジンサーバに対して、さまざまなポートをバインドできます。

### ルールの削除
ルールの下にバインドされたオリジンサーバがある場合は、最初に「オリジンサーバがバインドされたルールを強制的に削除する」を選択します。
![](https://main.qcloudimg.com/raw/e775ee9844e696b77d4f850297eb9f5c.png)

## 削除
[HTTP/HTTPSリスナー管理]タブで[削除]をクリックして、指定したリスナーを削除できます。リスナーがオリジンサーバにバインドされている場合は、削除前に「オリジンサーバがバインドされたリスナーの強制削除を許可する」を選択します。削除後、リスナーのポートの加速が停止します。
![](https://main.qcloudimg.com/raw/bc6ab6d048b3e655c4053b935240a851.png)

## 変更
[HTTP/HTTPSリスナー管理]タブで[変更]をクリックして、リスナー情報を変更できます。
HTTPリスナー：リスナーの名称を変更することが可能です。以下の図に示すとおりです。
![](https://main.qcloudimg.com/raw/505bcf6ef63836582de07490fbabd5b1.png)
HTTPSリスナー：名称、リスナーとオリジンサーバの間のプロトコルの変更、および証明書の更新が可能です。以下の図に示すとおりです。
![](https://main.qcloudimg.com/raw/2dd1c708ec37da65ce9f400eca53cf87.png)
