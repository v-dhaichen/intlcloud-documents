## 1. スケーリンググループリストの表示

[コンソール](https://console.cloud.tencent.com/autoscaling)を開き、ナビゲーションバーの【スケーリンググループ】をクリックしてリストを表示します。
![](//mccdn.qcloud.com/static/img/ff713a0ff792e49e5e8e099e59251b5a/image.png)

## 2. スケーリンググループの作成

[コンソール](https://console.cloud.tencent.com/autoscaling/config)を開き、ナビゲーションバーの【スケーリンググループ】を選択します。

### a.エリアの選択

コンソールの上に作成したい地域を選択します。エリアを選択すると、手動で追加できるCVMとバインディングできるCLBが制限されます。例えば、起動構成のエリアは広州を選択すれば、スケーリンググループに自動的に追加されるのは広州のCVMです。エリアは広州であるスケーリンググループの中に、上海、北京、香港、トロントなど他のエリアのCVMを手動で追加することができなく、上海、北京、香港、トロントなど他のエリアのCLBもバインディングできません。

![](https://mc.qcloudimg.com/static/img/fc2af25ac2023adb97f427aa68b72ff4/image.jpg)

### b.カスタム情報
「新規作成」ボタンをクリックして、スケーリンググループの属性をカスタムします。

  - **スケーリンググループ名称**：このスケーリンググループをマークするために使用されます。例えば「Webサイト論理層」など
  - **最小スケーリンググループ**：スケーリンググループにある最小のインスタンス数を指定します
  - **開始インスタンス数**：スケーリンググループは開始するとき**自動**的に作成されたインスタンス数を指定します。スケーリンググループが作成された後、対応する数量のインスタンスが生成されます
  - **最大スケーリング数**：スケーリンググループにある最大のインスタンス数を指定します
  - **起動構成**：作成された起動構成を指定します。拡張するとき、起動構成に従って拡張CVMが作成されます
  - **サポートするネットワーク**：選択するのは拡張されたCVMのネットワーク属性です。つまり拡張されたCVMが基本ネットワークにあるかVPCにあるかを選択します。クラスタがすでにVPCを使用していない限り、通常は「基本ネットワーク」を選択します
  - **サポートするAvailability Zone**：自動拡張したCVMがどのAvailability Zoneで作成するか指定します。複数のAvailability Zoneを選択でき、自動拡張したCVMはランダムで選択したAvailability Zoneから作成され、Availability Zone間の災害復旧効果を実現します
  - **除去ポリシー**：スケーリンググループがインスタンスを削減したい、且つ複数の選択肢がある場合は、除去ポリシーに基づいて除去するCVMを選択します。一般的に「最も古いCVMを除去する」を選択します。2種類のポリシーについては、[詳細](https://cloud.tencent.com/document/product/377/4166#13.-.E4.BC.B8.E7.BC.A9.E7.BB.84.E7.A7.BB.E5.87.BA.E7.AD.96.E7.95.A5.E7.9A.84.E5.85.B7.E4.BD.93.E8.A7.84.E5.88.99.E6.98.AF.E4.BB.80.E4.B9.88.EF.BC.9F)を確認してください。
  - **CLB**：1つのCLBを指定します。拡張したCVMは自動で当該CLBにマウントされます。

スケーリンググループは作成完了です。この時点では、スケーリンググループはCVMに対応できますが、スマートで拡張と圧縮することができません。次に、以下の3つの操作を続けることを強くお勧めします。
 - 既存のCVMに追加します
 - スケーリングポリシーを作成します
 - 通知を作成します


## 3. スケーリンググループがバインディングするCVMの変更
[コンソール](https://console.cloud.tencent.com/autoscaling)を開き、ナビゲーションバーの【スケーリンググループ】を選択します。

変更するスケーリンググループを選択します。スケーリンググループIDをクリックして、スケーリンググループ基本情報ページにアクセスします。
![](//mccdn.qcloud.com/static/img/bae3ec563534769d6c38143b60299d74/image.png)

このページで、当該スケーリンググループがバインディングするCVMリストを確認することができます。
- CVMインスタンスを手動でスケーリンググループに追加する必要があれば、【CVMの追加】をクリックして、追加するインスタンスを選択（Shiftを押すと複数選択ができます）して、【OK】をクリックします。
- あるCVMをバインディング解除する必要があれば、対応するCVMのエントリの後にある【除去】をクリックします。
![](//mccdn.qcloud.com/static/img/ac4e495a20c3aa69836f3eefb6fdb609/image.png)

自動作成されたCVMに対して、除去した後、終了します。
手動で追加されたCVMに対して、除去した後、終了しません。スケーリンググループから除去して、CLBからバインディング解除されるだけです。

## 4. 自動拡張したCVMがどのAvailability Zoneに入るかを定義
[コンソール](https://console.cloud.tencent.com/autoscaling)を開き、ナビゲーションバーの【スケーリンググループ】を選択します。

変更するスケーリンググループを選択します。スケーリンググループIDをクリックして、スケーリンググループ基本情報ページにアクセスします。
![](//mccdn.qcloud.com/static/img/bae3ec563534769d6c38143b60299d74/image.png)

【編集】をクリックして、Availability Zoneを増減することができます。


## 5. スケーリンググループの変更
[コンソール](https://console.cloud.tencent.com/autoscaling)を開き、ナビゲーションバーの【スケーリンググループ】を選択します。

変更するスケーリンググループを選択します。スケーリンググループIDをクリックして、スケーリンググループ基本情報ページにアクセスします。
![](//mccdn.qcloud.com/static/img/bae3ec563534769d6c38143b60299d74/image.png)

【編集】をクリックして、スケーリンググループ名称の変更、スケーリングの最大/最小数の調整、CVMインスタンス除去ポリシーの変更などをすることができます。
![](//mccdn.qcloud.com/static/img/19a6f7cc708a4288974a98d8a78263bd/image.png)

## 6. スケーリンググループの削除
[コンソール](https://console.cloud.tencent.com/autoscaling)を開き、ナビゲーションバーの【スケーリンググループ】を選択します。

スケーリンググループリストの中に、各スケーリンググループリストの最後に「削除」ボタンがあります。スケーリンググループを削除する前に、スケーリンググループのインスタンスを削除する必要があることをご注意ください。


## 7. CLBをスケーリンググループと組み合わせ
ASがCVMインスタンスを追加および削除するときは、すべてのCVMインスタンス割り当てアプリケーションのトラフィックを確保してください。拡張されたCVMはあるロードバランサーの下にあり、且つユーザーが介入せずにロードバランサーの転送トラフィックを取得したい場合、CVMに対してロードバランサーを指定することができます。当該ロードバランサーは、ASグループにあるインスタンスのすべての流入トラフィックの単一のアクセスポイントになります。

### スケーリンググループにCLBを追加

CLB装置を既存のスケーリンググループに接続するように、スケーリンググループをCLBと統合します。CLB装置を追加した後、自動的にグループにあるインスタンスを登録し、流入トラフィックをこれらのインスタンスに割り当てます。

AS[コンソール](https://console.cloud.tencent.com/autoscaling)で【新規作成】を選択します。ページの下に「CLB」オプションがあり、必要なCLBを選択します。事前に作成していない場合、オプション下にある「新規作成」リンクをクリックして、新しいCLBを作成します。

>注：
>スケーリンググループに関連付けられているCLBインスタンスは、スケーリンググループと同じネットワーク環境（VPCまたは同じ地域の基本ネットワーク）に存在する必要があります。


### スケーリンググループのCLBを削除
スケーリンググループの詳細ページをクリックしてアクセスします。詳細の下に「変更」をクリックして、対応のCLBを削除することができます。

削除した後、スケーリンググループにあるCVMも自動的に削除されたCLBとバインディング解除します。
