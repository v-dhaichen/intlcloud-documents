## 自動拡張のCVMに対するスタートアップ後にサービスを起動する設定
### 使用シナリオ
ASで拡張する時に、プロセス全体において手動で介入しないことを望みます。したがって、スタートアップした後にサービスが自動的に起動するように自動拡張のCVMを強制的に設定し、例えば：

- **httpd**サービス
- **mysqld**サービス
- **php-fpm**サービス
- **tomcat**サービス
- など

実際、1分間だけで設定を完了できます—/etc/rc.d/rc.localファイルを変更します！

### 設定方法（centosを例とする）：


####step 1：rc.localファイルを開き、
vim/etc/rc.d/rc.localを

    入力し、

既存の内容がそのままであり、ファイルの後ろに内容を追加します。

>>操作TIPS**（ハイレベルのユーザーはスキップしてもよい）：**
>
>「I」を入力してvimのinsertモードに入ると、内容を入力でき、この時、矢印キー「↓」を押してファイルの後ろに到達できます。


#### step 2：起動するサービスを書き込みます

本例は、構築されたWebサイトがスタートアップした後にhttpd、mysqld、php-fpmサービスを自動的に起動することを望みます。したがって、rc.localの後にこれらの内容を追加します：

    service httpd start
    service mysqld start
    service php-fpm start

![](https://mc.qcloudimg.com/static/img/db828b166419cd933e13573c8838a6aa/image.jpg)

保存して終了します。その後、このサーバーをスタートアップすると、Webサイトに自動的にアクセスできるようになります。注意：ウェブサイトによって必要なサービスが異なるため、この手順はユーさーのニーズに応じて設定すればよいです。


>操作TIPS**（ハイレベルのユーザーはスキップしてもよい）：**
>
>内容を入力した後、escキーを押し、次に、**shiftキーを押しながら+zを2回押して**終了できます。即ち、ZZを入力します。


####step 3：検証（オプション）
サーバーを再起動し（rebootを入力して再起動でき、またはコンソールで再起動します）、サーバーを再起動した後にサーバーに入らず、WebサイトのWebページを直接リフレッシュして、応答するかどうかを確認します。肯定の場合は、設定に成功しました。

#### step 4：このCVMに基づいてイメージを作成し、起動構成を作成する時にこのイメージを使用します
このステップは比較的簡単であり、操作が難しい場合は、以下のチュートリアルを参照してください：

[カスタムイメージの作成](https://cloud.tencent.com/doc/product/213/%E9%95%9C%E5%83%8F%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97#1.-cvmインスタンスによるカスタムイメージの作成)

[起動構成の作成](https://cloud.tencent.com/document/product/377/8544)



