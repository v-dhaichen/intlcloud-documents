## 자동 확장 CVM에 서비스 시작 시동 설정
### 적용 시나리오
AS로 확장할 때, 모든 과정에 인공 개입이 없길 바랍니다. 따라서 적극적으로 자동 확장 CVM에 시작 후 서비스 자동 시동을 설정하는 것을 권장합니다. 다음과 같습니다.

- **httpd** 서비스
- **mysqld** 서비스
- **php-fpm** 서비스
- **tomcat** 서비스
- 기타

단 1분으로 설정할 수 있습니다. - /etc/rc.d/rc.local 파일을 수정하면 됩니다!

### 설정 방법(Centos를 예제로)


#### 단계1: rc.local 파일 열기
다음 입력

    vim /etc/rc.d/rc.local

기존 내용을 유지하며 파일 마지막 부분에 내용을 추가합니다.

>>TIPS 조작**(숙련된 사용자는 건너뛸 수 있음): **
>
>"i"를 입력하여 vim의 Insert 모드로 들어가면 내용을 입력할 수 있습니다. 이 때, 아래쪽 화살표 "↓"를 눌러 파일 뒷부분으로 이동할 수 있습니다.


#### 단계2: 시동할 서비스 입력

이 예제는 구축된 웹사이트에서 시작할 때 서비스 httpd, mysqld 및 php-fpm을 시동하는 방법을 보여줍니다. 따라서 rc.local 뒤에 다음 구문을 입력합니다.

    service httpd start
    service mysqld start
    service php-fpm start

![](https://mc.qcloudimg.com/static/img/db828b166419cd933e13573c8838a6aa/image.jpg)

저장하고 및 종료합니다. 그 후에, 이 서버가 시작한 후, 웹사이트에서 자동으로 접근할 수 있습니다. 웹사이트마다 필요한 서비스가 다르기 때문에 이 절차는 사용자의 수요에 따라 설정하면 됩니다.


>TIPS 조작**(숙련된 사용자는 건너뛸 수 있음): **
>
>내용을 입력한 후, ESC 키를 누른 다음, **Shift 키 누른 채 z를 두 번 누르기**를 하면 나갈 수 있습니다. 즉, ZZ를 입력합니다.


#### 단계3 : 검증(선택 가능)
서버를 재시작합니다(reboot을 입력하거나 콘솔에서 서버를 다시 시작). 재시작이 완료되면 서버에 들어가지 않고 바로 웹사이트의 웹페이지를 새로고침하여 응답되었는지 확인합니다. 있는 경우 설정이 성공된 것입니다.

#### 단계4: 이 CVM을 기반으로 이미지를 생성합니다. 시동 구성을 설정할 때 해당 이미지를 사용할 수 있습니다.
이 절차는 비교적 간단합니다. 작업에 대한 문제가 있다면 다음 가이드를 참조하십시오.

[사용자 지정 이미지 생성](https://cloud.tencent.com/document/product/213/4942)

[시동 구성 생성](https://cloud.tencent.com/document/product/377/8544)



