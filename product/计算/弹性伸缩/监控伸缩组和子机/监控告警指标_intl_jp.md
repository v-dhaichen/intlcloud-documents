
Tencent CloudのCM機能を使用すると、順序付けられた時系列データ（メトリックと呼ばれる）によって統計データを検索できます。これらのメトリックを使用して、システムが期待どおりに実行しているかを確認し、それがしきい値を超えた場合は拡張または圧縮します。

## AS監視メトリック
ASは現在以下のメトリックをサポートしています。

- CPU使用率
- メモリ使用率
- プライベートネットワークインバウンド帯域幅
- パブリックネットワークインバウンド帯域幅
- プライベートネットワークアウトバウンド帯域幅
- パブリックネットワークアウトバウンド帯域幅

各メトリックは次の次元をサポートできます。

- 最大値
- 最小値
- 平均値


## メトリック集計方法

Tencent Cloud ASはCVMクラスターを監視しています。これは、複数のCVMと、時間周期内にこれらのCVMによって生成された複数の監視データが含まれます。これらのデータはまず集計され、次にユーザー構成ポリシーに従って操作されます。

統計の基本ポリシーは、各周期に各CVMの設定監視項目ごとに1分間の値（1分あたり1つの値を取ります）を取り、取得された値が連続して複数周期に設定された規則（周期数はユーザーがカスタマイズできます）に一致する場合、アラームスケーリング行為がトリガーされます。

例えば、あるスケーリンググループには5つのCVMインスタンスがあり、定義されたアラームスケーリングポリシーは、「CPU使用率の最大値/最小値/平均値は5分以内に50％を超え、3回発生」することです。ASは監視データとポリシー判断を収集します。手順は以下の通りです。

* ステップ1：システムは1分あたりCVMごとに1つの値を取り、1周期に（現在は5分に設定します）25個のCPU使用率の値を取ります。

* ステップ2：構成が最大値/最小値/平均値によって、ポリシーを組み合わせてアラーム規則が満たされているかどうかを判断します
* * 最大値：これらの25個の値の最大値が閾値（50％）を超えると、この周期はアラームスケーリング規則を満たします。
* * 最小値：これらの25個の値の最小値が閾値（50％）を超えると、この周期はアラームスケーリング規則を満たします。
* * 平均値：これらの25個の値の平均値が閾値（50％）を超えると、この周期はアラームスケーリング規則を満たします。

* ステップ3：3周期連続して（合計15分、現在の周期は5分ごとに判断します）この規則を満たす場合、スケーリング行為がトリガーされます。




