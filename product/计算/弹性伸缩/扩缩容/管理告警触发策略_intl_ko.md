## 소개

AS는 모니터링 메트릭에 따라 조정 그룹의 인스턴스 수량을 동적으로 조정합니다. 알람 트리거 전략을 정의해야 합니다. 즉, 조정을 트리거할 모니터링 메트릭 상태와 요구 변화에 따라 조정하는 방법을 정의합니다.

알람 전략을 생성 할 때 조건과 동작을 지정해야 합니다.
- 조건 형식: 임의 메트릭 + 임계값 + 주기 + 연속적으로 임계값에 도달하는 주기 수(즉, 메트릭이 N 주기에 계속적으로 모두 임계값에 도달합니다).
- 실행 동작: 통지 발송 + 지정 수량의 CVM 증가/감소.

각 조정 그룹에 두 가지 전략을 생성하는 것을 권장합니다. 하나는 확장에 사용되고, 또 하나는 축소에 사용됩니다. 비즈니스가 알람 전략에서 지정한 조건에 도달한 후 AS는 관련 전략을 실행해 조정 그룹에 대해 축소(인스턴스 종료로)/확장(인스턴스 시동으로)합니다.

다음 그림과 같습니다.

![](https://mc.qcloudimg.com/static/img/cca3aaed563b1a5b97e32fa22eebdfa6/4.jpg)


## 예시 시나리오

예를 들어, 전자 상거래 웹사이트 응용프로그램이 있고 현재 다섯 개의 인스턴스를 사용하고 있습니다. 운영 활동을 수행하고 방문량이 예상보다 많다고 걱정하는 경우 현재 인스턴스의 로드가 70%로 증가하면 두 개의 새 인스턴스를 활성회할 수 있고 로드가 40%로 떨어지면 여분의 인스턴스를 종료할 수 있는 것으로 설정할 수 있습니다. 조정 그룹을 구성하고 조건에 따라 자동으로 조정합니다.



![](https://mc.qcloudimg.com/static/img/d3320376422b51e1241591e432e2f3c5/7.jpg)

## 작업 절차

1. [콘솔](https://console.cloud.tencent.com/autoscaling/config)을 열고 탐색 모음에서 [조정 그룹]을 선택합니다.

2. 수정하려는 조정 그룹을 선택하고 조정 그룹 ID를 클릭하여 조정 그룹 기본 정보 페이지로 이동합니다.
![](http://mccdn.qcloud.com/static/img/bae3ec563534769d6c38143b60299d74/image.png)

3. 위의 탐색 모음에서 [알람 트리거 전략]을 선택하면 해당 페이지에서 조정 그룹과 관련된 알람 트리거 전략을 관리합니다.
	- [생성]을 클릭해 새로운 알람 트리거 전략을 추가할 수 있습니다.
	- [삭제]를 클릭해 해당 알람 트리거 전략을 삭제합니다.

![](http://mccdn.qcloud.com/static/img/7b4b02c3f0aa3fe5921029b6471d3ada/image.png)


## 임의 서버가 알람 조정 전략의 영향을 받지 않도록 지정합니다.
AS를 사용하기 전에 시스템에 이미 자주 사용되는 CVM이 있을 수 있습니다. 다음의 내용을 고려하여 알람 조정 전략에서 CVM이 삭제되는 것을 원하지 않을 수 있습니다.

- **단일 서버 여러 용도**: 클러스터가 지정한 작업 외에도 클러스터의 서버는 다른 목적으로도 사용됩니다. 예를 들어, 웹사이트 구축 초기에는 서버 중 하나가 캐시 서버와 파일 서버로 사용됩니다. 캐시 서버 클러스터를 조정 그룹에 배치할 때 알람 확장 전략으로 서버를 제거하지 않는 것을 원합니다.

- **데이터 저장**: 해당 서버는 상태 저장 또는 자체적으로 기타 서버가 없는 데이터를 가지고 있습니다. 예를 들어, 클러스터에 기타 서버가 운전 중으로 생성된 증분 데이터는 모두 해당 서버에 저장합니다.

- **이미지/스냅샷 업데이트**: 서버는 이미지와 스냅샷을 정기적으로 업데이트하는 데 사용됩니다.


**설정 방법: **


**단계1**: [조정 그룹 리스트](https://console.cloud.tencent.com/autoscaling)에서 서버가 위치한 조정 그룹을 클릭해 관리 페이지로 들어갑니다.

**단계2**: 관리 페이지 하단의 “CVM 리스트”에서 설정하려는 CVM에 대해 “제거 보호 설정”을 클릭합니다.
