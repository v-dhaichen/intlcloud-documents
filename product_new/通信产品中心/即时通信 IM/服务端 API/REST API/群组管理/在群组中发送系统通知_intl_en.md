## Feature Description
 Through this API, the app admin can send system notifications in a group.

## API Invocation Description
### Applicable group types

| Group Type | Support This RESTful API |
|-----------|------------|
| Private | Yes (specified members) |
| Public | Yes (specified members) |
| ChatRoom | Yes (specified members) |
| AVChatRoom | Yes (all members) |
| BChatRoom | Yes (all members) |

IM provides the preceding five built-in group types. For details, see [Group Systems](https://intl.cloud.tencent.com/document/product/1047/33529).

> Private, Public, and ChatRoom groups support sending system notifications to specified group members, whereas AVChatRoom and BChatRoom groups only support sending system notifications to all group members.

### Request URL example
```
https://console.tim.qq.com/v4/group_open_http_svc/send_group_system_notification?sdkappid=88888888&identifier=admin&usersig=xxx&random=99999999&contenttype=json
```
### Request parameters

The following table lists and describes only the parameters to be modified when this API is invoked. For details on other parameters, see [RESTful API Overview](https://intl.cloud.tencent.com/document/product/1047/34620).

| Parameter | Description |
| ------------------ | ------------------------------------ |
| v4/group_open_http_svc/send_group_system_notification | The request API. |
| sdkappid | The SDKAppID assigned by the IM console when an app is created. |
| identifier | This must be the app admin account. For details, see [App Admins](https://intl.cloud.tencent.com/document/product/1047/33517#app-.E7.AE.A1.E7.90.86.E5.91.98). |
| usersig | The signature generated by the app admin account. For details, see [Generating UserSig](https://intl.cloud.tencent.com/document/product/1047/34385). |
| random | Enter a random 32-bit unsigned integer ranging from 0 to 4294967295. |

### Maximum invocation frequency

The maximum invocation frequency is 200 times per second.

### Request packet examples

- **Basic form**
Delivers a system notification to all group members.
```
{
    "GroupId": "@TGS#2C5SZEAEF",
    "Content": "Hello World" // System notification content
}
```

- **Specifying group members for receiving a message**
Delivers a system message to specified group members. Group members who will receive the message can be set in ToMembers_Account (AVChatRoom groups do not support this feature.)
```
{
    "GroupId": "@TGS#2C5SZEAEF",
    "ToMembers_Account": [ // The list of group members who will receive the system notification. If this field is not specified, the system notification will be delivered to all members.
        "peter",
        "leckie"
    ],
    "Content": "Hello World" // System notification content
}
```

### Request packet fields

| Field | Type | Attribute | Description |
|---------|---------|---------|---------|
| GroupId | String | Required | The group to which the system notification will be sent. |
| ToMembers_Account | Array | Optional | The list of group members who will receive the system notification. If this field is not specified, the system notification will be delivered to all members. |
| Content | String | Required | The content of the system notification. |

### Response packet example

```
{
    "ActionStatus": "OK",
    "ErrorInfo": "",
    "ErrorCode": 0
}
```

### Response packet fields

| Field | Type | Description |
|---------|---------|---------|
| ActionStatus | String | The request processing result. OK: succeeded. FAIL: failed. |
| ErrorCode | Integer | The error code. 0: succeeded. Others: failed. |
| ErrorInfo | String | Error information. |

## Error Codes

Unless a network error (such as error 502) occurs, the HTTP return code for this API is always 200. ErrorCode and ErrorInfo in the response packet represent the actual error code and error information, respectively.
For common error codes (60000 to 79999), see [Error Codes](https://intl.cloud.tencent.com/document/product/1047/34348).
The following table describes the error codes specific to this API.

| Error Code | Description |
| ------ | ------------------------------------------------------------ |
| 10002 | An internal server error occurred. In this case, try again. |
| 10003 | The request command keyword is invalid. |
| 10004 | A parameter is invalid. In this case, check whether request parameters are correct based on the error description. |
| 10007 | Operation permissions are insufficient. For example, an ordinary member in a public group attempts to remove a member from the group, but only the app admin has the permission to do so. |
| 10010 | The group does not exist or has been dismissed. |
| 10015 | The group ID is invalid. In this case, check whether the group ID is correct. |

## API Commissioning Tool
Use the [online commissioning tool for RESTful APIs](https://avc.cloud.tencent.com/im/APITester/APITester.html#v4/group_open_http_svc/send_group_system_notification) to commission this API.

## References
Sending common messages in a group ([v4/group_open_http_svc/send_group_msg](https://intl.cloud.tencent.com/document/product/1047/34959))
