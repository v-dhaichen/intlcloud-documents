## Feature Description
This API can import app-owned accounts to IM in batches to create internal IDs for these accounts. In this way, these accounts can use the IM service even if they have never logged in to IM before.
For example, if an app developer uses this RESTful API to send a message to user A who has never logged in to IM, the sending will fail because no internal ID is available for user A. Therefore, the app developer needs to import user A’s account into IM to enable the system to create an internal ID for user A. Then, the app developer can use this RESTful API to send messages to user A.

> This API can import up to 100 accounts to IM at a time. If an account is imported repeatedly, only one internal ID is created for the account.

## API Invocation Description
### Request URL example
```
https://console.tim.qq.com/v4/im_open_login_svc/multiaccount_import?sdkappid=88888888&identifier=admin&usersig=xxx&random=99999999&contenttype=json
```

### Request parameters

 The following table describes only the parameters that are modified when this API is invoked. For details on other parameters, see [RESTful API Overview](https://intl.cloud.tencent.com/document/product/1047/34620).

| Parameter | Description |
| ------------------ | ------------------------------------ |
| v4/im_open_login_svc/multiaccount_import | Request API |
| sdkappid | SDKAppID assigned by the IM console when an app is created |
| identifier | It must be an app admin account. For details, see [App Admins](https://intl.cloud.tencent.com/document/product/1047/33517#app-.E7.AE.A1.E7.90.86.E5.91.98). |
| usersig | The signature generated by the app admin account. For details, see [Generating UserSig](https://intl.cloud.tencent.com/document/product/1047/34385). |
| random | Enter a random 32-bit unsigned integer ranging from 0 to 4294967295. |


### Maximum invocation frequency
The maximum invocation frequency is 200 times per second.
### Request packet example
```
{
"Accounts":["test1","test2","test3","test4","test5"]
}
```

### Request packet fields

| Field | Type | Attribute | Description |
|---------|---------|---------|-------|
| Accounts | Array | Required | The array of user names. Each user name cannot exceed 32 bytes. A maximum of 100 user names can be imported at a time. |

### Response packet example

```
{
    "ActionStatus": "OK",
    "ErrorCode": 0,
    "ErrorInfo": "",
    "FailAccounts": [
        "test3",
        "test4"
    ]
}
```

### Response packet fields

| Field | Type | Description |
|---------|---------|---------|
| ActionStatus | String | The request processing result. OK: succeeded. FAIL: failed. |
| ErrorCode | Integer | The error code. 0: succeeded. Others: failed. |
| ErrorInfo | String | The error information. |
| FailAccounts | Array | The list of accounts that failed to be imported |

## Error Codes
Unless a network error (such as error 502) occurs, the HTTP return code for this API is always 200. ErrorCode and ErrorInfo in the response packet represent the actual error code and error information, respectively.
For common error codes (60000 to 79999), see [Error Codes](https://intl.cloud.tencent.com/document/product/1047/34348).
The following table describes the error codes specific to this API.

| Error Code | Description |
| ------------ | ------------ |
| 70169 | An internal timeout occurred on the server. In this case, try again later. |
| 70202 | An internal timeout occurred on the server. In this case, try again later. |
| 70398 | The number of accounts exceeds the limit. To create more than 100 accounts, upgrade your app to the professional edition. For details, see [Purchase Instructions](https://intl.cloud.tencent.com/document/product/1047/34351). |
| 70402 | A parameter is invalid. Check whether required fields are specified or whether the specified fields meet protocol requirements. |
| 70403 | The request failed. In this case, check whether the app admin permission is granted. |
| 70500 | An internal server error occurred. In this case, try again later. |

## API Commissioning Tool
Use the [RESTful online commissioning tool for APIs](https://avc.qcloud.com/im/APITester/APITester.html#v4/im_open_login_svc/multiaccount_import) to commission this API.

## References

- Importing an account ([v4/im_open_login_svc/account_import](https://intl.cloud.tencent.com/document/product/1047/34953))
- Deleting an account ([v4/im_open_login_svc/account_delete](https://intl.cloud.tencent.com/document/product/1047/34955))
- Checking accounts ([v4/im_open_login_svc/account_check](https://intl.cloud.tencent.com/document/product/1047/34956))
- Invalidating an account’s login state ([v4/im_open_login_svc/kick](https://intl.cloud.tencent.com/document/product/1047/34957))
