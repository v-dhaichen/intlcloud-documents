## Feature Description

- Only trial accounts can be deleted.
- When an account is deleted, the account’s relationship chain and other relevant data will also be deleted.
- After an account is deleted, **the account’s data cannot be restored**. Therefore, exercise caution when using this API.

## API Calling Description

### Request URL example

```
https://console.tim.qq.com/v4/im_open_login_svc/account_delete?sdkappid=88888888&identifier=admin&usersig=xxx&random=99999999&contenttype=json
```

### Request parameters

 The following table lists and describes only the parameters to be modified when this API is called. For details on other parameters, see [RESTful API Overview](https://intl.cloud.tencent.com/document/product/1047/34620).

| Parameter | Description |
| ----------------------------------- | ------------------------------------------------------------ |
| v4/im_open_login_svc/account_delete | The request API. |
| sdkappid | The SDKAppID assigned by the IM console when an app is created. |
| identifier | This must be the app admin account. For details, see [App Admins](https://intl.cloud.tencent.com/document/product/1047/33517#app-.E7.AE.A1.E7.90.86.E5.91.98). |
| usersig | The signature generated by the app admin account. For details, see [Generating UserSig](https://intl.cloud.tencent.com/document/product/1047/34385). |
| random | Enter a random 32-bit unsigned integer ranging from 0 to 4294967295. |

### Maximum calling frequency

The maximum calling frequency is 100 times per second.

### Request packet example

```
{
  "DeleteItem":
  [
      {
          "UserID":"UserID_1"
      },
      {
          "UserID":"UserID_2"
      }
  ]
}
```

### Request packet fields

| Field | Type | Attribute | Description |
| ---------- | ------ | ---- | --------------------------------------------------- |
| DeleteItem | Array | Required | The array of account objects to be deleted. A single request can delete up to 100 accounts. |
| UserID | String | Required | The UserID of the account to be deleted. |

### Response packet example

```
{
    "ActionStatus": "OK",
    "ErrorCode": 0,
    "ErrorInfo": "",
    "ResultItem": [
        {
            "ResultCode": 0,
            "ResultInfo": "",
            "UserID": "UserID_1"
        },
        {
            "ResultCode": 70107,
            "ResultInfo": "Err_TLS_PT_Open_Login_Account_Not_Exist",
            "UserID": "UserID_2"
        }
    ]
}
```

### Response packet fields

| Field | Type | Description |
| ------------ | ------- | ---------------------------------------------- |
| ActionStatus | String | The request processing result. OK: succeeded. FAIL: failed. |
| ErrorCode | Integer | The error code. 0: succeeded. Others: failed. |
| ErrorInfo | String | Error information for request processing failure. |
| ResultItem | Array | The result object array of an account. |
| ResultCode | Integer | The error code for an account. 0: succeeded. Others: failed. |
| ResultInfo | String | Error description for the failure of deleting an account. |
| UserID | String | The UserID of the account to be deleted. |

## Error Codes

Unless a network error (such as error 502) occurs, the HTTP return code for this API is always 200. ErrorCode and ErrorInfo in the response packet represent the actual error code and error information, respectively.
For common error codes (60000 to 79999), see [Error Codes](https://intl.cloud.tencent.com/document/product/1047/34348).
The following table describes the error codes specific to this API.

| Error Code | Description |
| ------ | ------------------------------------------------------------ |
| 30006 | An internal server error occurred when clearing relationship chain data. To correct it, try again later. |
| 30007 | An internal server timeout occurred when clearing relationship chain data. To correct it, try again later. |
| 30008 | A write conflict occurred due to the concurrent writing of relationship chain data. To correct it, we recommend that you use the batch mode. |
| 40006 | An internal server error occurred when clearing profile data. To correct it, try again later. |
| 70107 | The UserID to be deleted does not exist. To correct it, check whether the UserID is correct. |
| 70169 | An internal server timeout occurred. To correct it, try again later. |
| 70202 | An internal server timeout occurred. To correct it, try again later. |
| 70402 | A parameter is invalid. To correct it, check whether required fields are specified and the specified fields meet protocol requirements. |
| 70403 | The request failed. It requires app admin permissions. |
| 70500 | An internal server error occurred. To correct it, try again later. |
| 71000 | Failed to delete the account. Only trial accounts can be deleted. Your current app is of the professional edition, which does not support account deletion. |

## API Commissioning Tool

Use the [online commissioning tool for RESTful APIs](https://avc.qcloud.com/im/APITester/APITester.html#v4/im_open_login_svc/account_delete) to commission this API.

## References

- Importing an account ([v4/im_open_login_svc/account_import](https://intl.cloud.tencent.com/document/product/1047/34953))
- Importing accounts in batches ([v4/im_open_login_svc/multiaccount_import](https://intl.cloud.tencent.com/document/product/1047/34954))
- Verifying an account ([v4/im_open_login_svc/account_check](https://intl.cloud.tencent.com/document/product/1047/34956))
- Invalidating an account’s login state ([v4/im_open_login_svc/kick](https://intl.cloud.tencent.com/document/product/1047/34957))
