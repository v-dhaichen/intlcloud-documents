
Tencent Cloud의 클라우드 모니터링 기능을 사용하면 정렬된 시간 일련 데이터 세트(지표)로 통계 데이터를 인덱스할 수 있습니다. 이 지표을 사용하여 시스템이 예상대로 실행하는지 검증하고 임계 값을 초과하면 용량 확장 및 축소를 진행합니다.

## AS 지표 모니터링
AS는 현재 아래와 같은 지표를 지원합니다.

- CPU 사용률
- 메모리 사용률
- 개인 네트워크 INPUT 대역폭
- 외부 네트워크 INPUT 대역폭
- 개인 네트워크 OUTPUT 대역폭
- 외부 네트워크 OUTPUT 대역폭

각 지표는 아래와 같은 차원을 지원합니다.

- 최댓값
- 최솟값
- 평균값


## 지표 취합 방법

Tencent Cloud Auto Scaling은 CVM 클러스터를 모니터링하며, 여러 CVM 및 해당 CVM에서 주기적으로 생성된 모니터링 데이터를 포함합니다. 이 데이터는 먼저 취합된 다음 사용자 구성 정책에 따라 운영됩니다.

통계의 기본 정책은 주기마다 각각의 Cloud Virtual Machine의 설정 모니터링 항목에 1분 취득값(분당 하나의 값 취득)을 설정하고, 여러 주기에 거쳐 설정한 규칙(주기수는 사용자 지정 가능)에 부합되면 알람 스케일링을 수행합니다.

예를 들어, 스케일링 그룹에는 5개의 CVM 용례 있고 정의된 알람 스케일링 정책은 "CPU 사용률의 최대/최소/평균값이 5분 내에 50%를 초과하여 3회 발생"하였으므로 오토 스케일링은 모니터링 데이터 및 정책 판단을 수집합니다. 절차는 아래와 같습니다.

* 1단계: 시스템은 분당 각 CVM에서 하나의 값을 취득하고 한 주기(현재 설정: 5분)에 25개의 CPU 사용률을 취득합니다.

* 2단계: 사양에 따라 최댓값/최솟값/평균값을 정책과 결합하여 알람 규칙이 부합되는지 확인합니다.
* * 최댓값: 25개 값의 최댓값이 임계 값(50%)을 초과하면 이 주기는 알람 스케일링 규칙에 부합됩니다.
* * 최솟값: 25개 값의 최솟값이 임계 값(50%)을 초과하면 이 주기는 알람 스케일링 규칙에 부합됩니다.
* * 평균값: 25개 값의 평균값이 임계 값(50%)을 초과하면 이 주기는 알람 스케일링 규칙에 부합됩니다.

* 3단계: 3회 주기(총 15분, 5분이 한 주기) 연속 규칙에 부합되면 스케일링을 트리거합니다.



