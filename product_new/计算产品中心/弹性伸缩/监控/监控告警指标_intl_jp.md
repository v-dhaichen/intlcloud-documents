
Tencent Cloudのクラウド監視機能を使用すると、順序付けられた時系列データ（指標と呼ばれる）によって統計データを検索できます。これらの指標を使用して、システムが予期通りに機能しているかを確認できます。しきい値を超えた場合、スケーリング処理を行います。

## ASモニタリング指標
AS は現在以下の指標をサポートする：

- CPU利用率
- メモリ利用率
- プライベートネットワーク帯域幅イン
- パブリックネットワーク帯域幅イン
- プライベートネットワーク帯域幅アウト
- パブリックネットワーク帯域幅アウト

各指標は、下の次元をサポートする：

- 最大値
- 最小値
- 平均値


## 指標の集約方法

Tencent Cloud Auto ScalingはCVMクラスターを監視することにより、複数のCVMまたこれらのCVMが時間サイクルに複数の監視データが生成されました。これらのデータは最初に集約されて、次にユーザー構成ポリシーに従って操作されます。

統計の基本ポリシーは、各サイクルの各CVMの設定監視項目について1分間で（1分間に1つの値を取る）値を取得します。連続して複数サイクルで取得した値が設定規則を満たしてる場合（サイクル数はカスタマイズできる）、アラームをトリガーしてスケーリングを行います。

例えば、あるスケーリンググループには5台のCVMインスタンスがあります。定義されたアラームスケーリングポリシーは、「5分以内にCPU使用率の最大/最小/平均値が50％を超え、3回発生する」のことです。Auto Scalingは、モニタリングデータの収集とポリシー判断を行います。 手順は下記の通りです

* ステップ1：システムは1分ごとに各CVMに1つの値を取り、1サイクル（現在5分に設定されてる）で25個のCPU利用率数値を取ります。

* ステップ2：設定の最大値/最小値/平均値とポリシーの組み合わせによって、アラーム規則に一致してるかを判断します。
* * 最大値：これらの25個の数値の最大値が閾値（50％）を超える場合、このサイクルはアラームスケーリング規則に一致します。
* * 最小値：これらの25個の数値の最小値が閾値（50％）を超える場合、このサイクルはアラームスケーリング規則に一致します。
* * 平均値：これらの25個の数値の平均値が閾値（50％）を超える場合、このサイクルはアラームスケーリング規則に一致します。

* ステップ3：連続して3つサイクル（合計15分間、5分ごとに現在のサイクルを判断される）が全てこのアラームスケーリング規則に一致した場合、スケーリング動作がトリガーされます。



