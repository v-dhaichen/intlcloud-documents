### クールダウン時間とは

Auto Scaling（AS）クールダウン時間はスケーリンググループの一つ構成可能な設定です。クールダウン時間を設定して、前のスケーリング操作が有効になるまでASがほかのインスタンスを起動または終了しないように保証します。スケーリンググループが簡単なスケーリングポリシーを利用して動的にスケーリングした後、ASはクールダウン時間が完了してから、スケーリング操作を再開します。

手動でスケーリンググループを拡張する場合、デフォルトではクールダウン時間を待ちませんが、新しいクールダウン時間を設定して、デフォルト設定を上書きできます。運行状況不良なインスタンスが監視された場合、ASはクールダウン時間の完了を待たずに、直ちにこのインスタンスを置き換えます。

### クールダウン時間が必要な理由

CVMがスケーリンググループに追加された後、負荷が下がるまでに時間がかかります。クールダウン時間がない場合、システムは負荷が下がるまでにスケールアウトし続けます、新しいCVMは業務を引き受けた後、負荷が低すぎることが判明したため、、スケールインします。

インスタンスが使用される前に、設定スクリプトを利用してソフトウェアをインストール・設定します。従って、インスタンスは起動から動作されるまで約２～３分かかります。（当然、実際の時間は複数の要因に依存します。例えば、インスタンスのサイズや完了するまで必要な起動スクリプトの有無等）

**事例のユースケース：**

業務のトラフィックピークが起きると、アラームポリシーのアラームがトリガーされます。アラームが発生する場合、ASは一つのリクエストインスタンスを起動して増加分の需要を対応します。ただし、問題がある：インスタンスの起動は数分かかり、かつ起動後にCLBから漸次的にリクエストを受け取るのも時間がかかります。その間、監視アラームがトリガーし続けるため、ASはアラームが発生するたびに別のインスタンスを起動します。

ただし、クールダウン時間を設定した場合、ASは一つのインスタンスを起動した後、すべての簡単スケーリングポリシーや手動スケーリングによるスケーリング操作を指定されたクールダウン時間（デフォルトは60秒）が経過するまでに一時停止します。これにより、新しく起動したインスタンスはこの時間を使ってアプリケーションのトラフィック処理を行います。

クールダウン時間が経過すると、すべて一時停止のスケーリング操作は再開されます。アラームが再びトリガーしたら、ASが別のインスタンスを起動し、クールダウン時間も再び有効になります。ただし、追加したインスタンスがCPU利用率を正常レベルに下げられる場合、当該グループは現在のサイズを保持します。

### クールダウン時間を設定する

クールダウン時間はデフォルトで60秒です。

修正が必要な場合、以下の手順に従ってください：

- スケーリンググループの詳細画面を開きます。

-【アラームトリガーポリシー】をクリックし、設定対象のアラームスケーリングポリシーを選択し、【修正】を選択して、修正ボックスの下にクールダウン時間を指定します（設定範囲：0〜999999秒）。
