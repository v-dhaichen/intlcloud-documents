
## 오토 스케일링 AS란 무엇입니까?
오토 스케일링 (Auto Scaling, AS)은 비즈니스 수요와 전략에 따라 CVM 컴퓨팅 리소스를 자동으로 조정하며, 애플리케이션 부하를 처리 할 수 있도록 적당량의 CVM 인스턴스를 유지하게 합니다. 스마트 확장 및 수축은 사용자 Web 서비스에 대한 비용 절감과 리소스 관리의 중요한 구성 요소입니다. Web 애플리케이션 프로그램 시작 후 많은 트래픽이 요청될 때 추가 부하에 대비하여 더 많은 서버를 추가합니다. 동시에 Web 애플리케이션 프로그램 트래픽이 감소하면 이용되지 않은 서버를 종료해야 합니다.

AS로 서버 용량을 조정하려면 사전에 용량 확장 조건 및 축소 조건을 설정합니다. AS의 확장 조건을 충족시키면 사용 가능한 서버 수를 자동으로 추가하여 성능을 유지 관리합니다. 수요가 낮아지면 AS는 용량 축소 조건에 따라 서버 수를 줄여 최대한 비용을 절감하도록 지원합니다.

다음과 같이 오토 스케일링 AS를 사용함으로써 클러스터는 적절한 리소스 유지 및 상태를 확인할 수 있습니다. 기존 방식의 많은 문제점을 해결할 것입니다. 
 - 서비스 요청이 갑자기 증가하거나 또는 CC 공격으로 인해 머신 수가 충분하지 않으므로 서비스가 응답하지 않습니다.
 - 최대 액세스양에 따라 리소스를 예측하므로 액세스양이 적으면 최댓값에 도달하지 못하여 투입된 리소스 낭비를 초래합니다.
 - 인위적인 보호 및 빈번한 처리 용량 알람은 여러 번의 수동 변경 작업이 필요합니다.

**기존 방식의 클러스터 유지 보수:**
![Alt text](https://mc.qcloudimg.com/static/img/92ae76d43c2b490f558490d328b8761a/AS-Product+Introduction%281%29.jpg)

**AS 이용 후 효과:**
![Alt text](https://mc.qcloudimg.com/static/img/953c495c4b950e98fd6e360d871bf891/AS-Product+Introduction%282%29.jpg)


## AS의 작업 방식

애플리케이션 서비스에서 사용자 클러스터는 애플리케이션 프로그램의 여러 사본을 실행하여 고객 트래픽을 충족합니다. 예를 들어 액세스 계층의 프런트 엔드 서버 클러스터, 논리 레벨의 애플리케이션 서버 클러스터 및 백엔드의 캐시 서버 클러스터가 있습니다. 각 인스턴스는 모두 고객 요청을 처리할 수 있습니다.

유사하거나 동일한 인스턴스는 수량을 조정할 수 있습니다. 사용자는 유사하거나 동일한 시스템을 스케일링 그룹에서 관리할 수 있습니다.

- AS는 각각 지정한 스케일링 그룹의 최소 인스턴스 수가 스케일링 그룹의 인스턴스 수보다 적지 않도록 보장합니다.
- AS는 각각 지정한 스케일링 그룹의 최대 인스턴스 수가 스케일링 그룹의 인스턴스 수보다 적지 않도록 보장합니다.
- AS는 지정한 스케일링 정책으로 애플리케이션 프로그램의 수요가 증가 및 감소할 때 인스턴스를 시작하거나 종료합니다. 스케일링 정책은 두 가지 유형이 있습니다.
   a) 알람 트리거 전략: 지정 조건에 따라 동적으로 확장(예: 스케일링 그룹 기기의 CPU 사용률이 60% 초과 시 확장)
   b) 지정 시간 스케일링 정책: 지정한 시간에 따라 확장(예: 매일 밤 21:00에 확장) 
- 정책이 설정되면 스케일링 이벤트 알림도 설정할 수 있습니다. 스케일링 이벤트가 발생하면 AS는 이메일, SMS 또는 사이트 내부 메시지로 통지합니다. 사용자의 비즈니스 요청 변화에 따라 항상 모니터링할 필요는 없고 AS 알림에만 유의하면 됩니다.
- 사용자는 원클릭으로 필요한 기기의 수를 지정하거나 기존 기기를 스케일링 그룹에 연동 시켜 관리할 수 있습니다.

## AS의 기본 개념

**오토 스케일링 제품은 아래와 같은 기본 개념이 있습니다:**

- 스케일링 그룹
- 시작 구성
- 스케일링 정책
- 쿨타임


## 1. 스케일링 그룹
스케일링 그룹은 동일한 규칙을 따르고 동일한 환경에 대처하는 클라우드 서버 인스턴스의 컬렉션입니다. 스케일링 그룹은 그룹 내 CVM 인스턴스 수의 최댓값, 최솟값 및 해당 관련 로드 밸런서 인스턴스와 같은 속성을 정의합니다.

## 2. 시작 구성
시작 구성은 자동으로 미러 ID, 클라우드 가상 머신 인스턴스 유형, 시스템 디스크 및 데이터 디스크 유형, 용량, 키 쌍, 보안 그룹을 포함한 클라우드 서버의 템플릿을 생성합니다.

스케일링 그룹을 생성할 때 시작 구성을 설정해야 생성되고 속성은 편집할 수 없습니다.

## 3. 스케일링 정책
스케일링 작업을 실행하기 위한 조건입니다. 트리거 조건은 시간 및 클라우드 모니터링을 위한 경보이고 작업은 CVM을 삭제하거나 추가할 수 있습니다.
스케일링 정책은 아래 두 가지 유형이 있습니다.

- **시간 지정 스케일링 정책**
고정 시점까지 자동으로 CVM 인스턴스를 추가 및 감소하여 주기적인 반복을 지원합니다.

- **알람 스케일링**
클라우드 모니터링 메트릭(CPU, 메모리 및 네트워크 트래픽)을 기반으로 CVM 인스턴스를 자동으로 추가 및 감소합니다.

## 4. 쿨타임
쿨타임은 동일한 스케일링 그룹에서 하나의 스케일링 이벤트(CVM 인스턴스 추가 및 제거)가 완료된 후의 잠금 시간을 말합니다. 이 시간 내에 스케일링 그룹은 스케일링 이벤트를 수행하지 않습니다. 쿨타임 지정 범위는 0 - 999999(초)입니다.
