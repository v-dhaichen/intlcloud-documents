## ビッドインスタンスとは
ビッドインスタンス（Spot）はCloud Virtual Machine の新しいインスタンス稼働モードです。その中核である特徴はディスカウント販売及びシステム中断メカニズムです。これにより、顧客は一定の値引きでインスタンスを購入できますが、その同時にシステムは自動的にディスカウント販売されたインスタンスを回収する可能性があります。一つのビッドインスタンスを購入し入手した後に、その利用（コンソール操作、リモートログイン、サービスデプロイ、 VPCの関連付け等を含む）は従量課金 CVM インスタンスと基本的に同じです。

- 関連リンク：[FAQ > インスタンス類 > ビッドインスタンス](https://intl.cloud.tencent.com/document/product/213/17817)
- 関連リンク：[ビッドインスタンスの購入方法](https://intl.cloud.tencent.com/document/product/213/17926)

## 現段階の特殊ポリシー
- **固定の割引比例**：すべての仕様のビッドインスタンスは固定した割引で販売されます（同じ仕様の従量課金インスタンスの20%の価格で販売される）。一部のタイプのインスタンスは価格を若干調整することがあります。
- **システムの主動中断（在庫変動）**：現段階では、システムは市場価格がユーザーの指値以上であることで中断しませんが、ビッドインスタンスリソースプールの在庫不足により中断することがあります。在庫不足の場合は、システムは割り当てたビッドインスタンスからランダムに回収します。
- **オールリージョン利用可能**：ビッドインスタンスはTencent Cloudの大部分のリージョンに打ち上げており、インスタンスタイプと従量課金モードの同期をサポートします、最新のリージョンとインスタンスタイプについては、 [ビッドインスタンス - ビッドインスタンスの対応しているリージョンとタイプ >>](https://intl.cloud.tencent.com/document/product/213/17817)をご参照ください。

## 製品の特徴
### I. 高いコストパフォーマンス
![](https://main.qcloudimg.com/raw/8179ef6629ac0a0b4b9c3c9cd6f80ffa.png)
ビッドインスタンスは従量課金インスタンスの割引価格で販売されています。最低は9割引までです。
- **割引の幅**：ビッドインスタンスは同じ仕様の従量課金インスタンスの価格を基準とし、割引販売を行っています。割引価格の範囲は10%の価格から元価格までです。
- **割引対象**：CVM CPUとメモリのみが割引対象になります。ほかの部分（例えばシステムディスク、データディスク、帯域幅、有料イメージなどのCVM関連課金項目）はビッドの割引に影響されません。
- **価格変動**：この割引比例は一定期間には安定していますが、アベイラビリティゾーンで大規模の購入が発生した場合は、価格の変動が発生します（現段階では、割引率は80％に固定されます）。

### II. システム中断メカニズム
![](https://main.qcloudimg.com/raw/a4db964d52400b9a00d3c7e96c0b833d.png)
従量課金とサブスクリプションのインスタンスはユーザーにより主動的にリリースされることしかできませんが、ビッドインスタンスはシステムバックグラウンドに中断されることがあります。システムは現在の価格とリソースプール等の総合的な状況により割り当てたビッドインスタンスを中断するかを判断します。
![](https://main.qcloudimg.com/raw/824a585f8dfeb1914f4d72ea1eafdb6c.png)
- **価格原因による中断**：市場価格が顧客の最高指値以上になった場合は、インスタンスが回収されます（現段階では、市場価格が固定されている）。
- **在庫原因による中断**：当該タイプのリソースプールは余裕がなくなった場合は、システムは在庫不足の状況によりビッドインスタンスを回収します。在庫が回復したら、顧客はまたビッドインスタンスを申請できます。

## 適用しないケース
システム中断メカニズムが存在しているため、顧客はインスタンスのライフサイクルを完全に把握できません。よって、ビッドインスタンスで安定性に対する要求の高いサービスを稼動しないことをお薦めします。例えば：
- データベースサービス
- Cloud Load Balancerを採用していないオンラインサービス、ウェブサイトサービス
- 分散式アーキテクチャの中核であるマスターコントロールノード
- 長時間（10+時間）のビッグデータコンピューティング作業

## 適用ケース及び業界
### 適用ケース
- ビッグデータコンピューティング作業
- Cloud Load Balancerを採用しているオンラインサービス、ウェブサイトサービス
- ネットワーククローラーサービス
- ほかの細粒度コンピューティングケース、或いは中断ポイントよりのコンピューティング再開に対応するコンピューティングケース

### 適用業界
- 遺伝子配列解析及び分析
- 薬物結晶分析
- ビデオのトランスコーディング、ビデオレンダリング
- 金融、取引データの分析
- 画像及びマルチメディアの処理
- 科学技術コンピューティング（地理、流体力学等）

## 制限
- **クォータ制限**：CVMの台数制限とは違い、ビッドインスタンスはユーザーのアベイラビリティゾーンにおけるビッドインスタンスのvCPUコアの総数をクォータ制限の指標としています。現段階では、各アカウントはアベイラビリティゾーンごとに最大vCPUコアの総数が50個であるビッドインスタンスを持つことが可能です（クォータを拡張するには作業依頼書により申請してください）。
- **操作制限1**：ビッドインスタンスはアップグレード・ダウングレード設定をサポートしていません。
- **操作制限2**：ビッドインスタンスはサブスクリプション課金に対応していません。

## 最良事例
### I. タスク粒度の切り分け
- 長時間作業を細粒度の作業に切り分けることにより、中断される可能性を減少します。
-  EMRのような切り分け思惟を持つビッグデータキットを利用します。

### II. Cloud Load Balancerによりオンラインサービスとウェブサイトサービスの安定性を確保する
- アクセスレイヤーがCloud Load Balancerを利用します。
- バックエンドリソースは一部の従量課金インスタンス + 大量のビッドインスタンスの組合せを使います。
- ビッドインスタンスの中断状況をモニタリングし、 CLBから間もなく中断されるインスタンスを取り除きます。

### III. 中断ポイントよりのコンピューティング再開に対応するコンピューティングスケジューリングモード
- コンピューティングの中間結果をCOS/CFS/NASなどの永続ストレージサービスに保存します。
-  Metadataにより間もなく中断されるインスタンスを感知し、2分間の保留期間以内にコンピューティング結果を保存します。
- ビッドインスタンスが再起動すると、前回のコンピューティングを続けます。
