## ユースケース
ユーザーが EIP によってパブリックネットワークをアクセスする際、NAT モード又は EIP ダイレクトモードを選べます。現在デフォルトは NAT モードです。
- NAT モードで、EIP はローカルに表示されません。
- EIPをダイレクトで開通した後、ローカルに表示されます。設定する際に毎回手動で EIP アドレスを加入する必要がなく、開発コストを削減できます。

> 現在の EIP ダイレクトはホワイトリストによってコントロールし、 VPC 内のデバイスのみサポートします。

## 操作手順
### ステップ1： EIP の設定スクリプトをダウンロードする
 EIP のダイレクトプロセスはネットワークの中断を引き起こす可能性があるため、 予めEIP のダイレクトスクリプトをダウンロードしてCVM にアップロードする必要です。手順は下記の通り：
1. EIP のダイレクト設定スクリプトをダウンロードします、このステップはオプションです。ダウンロードパスは：
 -  [Linux スクリプトのダウンロード](https://main.qcloudimg.com/raw/7d07d336030fb1324f3d55c891434612/eip_direct.zip)
 -  [Windows スクリプトのダウンロード](https://mc.qcloudimg.com/static/archive/af1eee0dbe7d9407cddb3e1bd510cb3a/eip_windows.zip)

  >Linux のスクリプトはOSバージョン CentOS 6.x、CentOS 7 と Ubuntuをサポートします。
2. スクリプトをローカルにダウンロードした後、 EIP ダイレクトが必要とするCVMにアップロードします。

### ステップ2： EIP のダイレクトスクリプトを実行する
1.  EIP ダイレクトが必要とするCVMにロックインします。
2.  EIP のダイレクトスクリプトを実行します。詳細方法は：
 - Linux OSの CentOS で：
	 - 実行権限を追加する
	```
	chmod +x eip_direct.sh
	```
	- スクリプトを実行する
	```
	./eip_direct.sh install XX.XX.XX.XX 
	```
	その中、`XX.XX.XX.XX`は EIP アドレスであり、オプションできます。
 - Windows OSで：
```
eip_windows.bat XX.XX.XX.XX
```
その中、`XX.XX.XX.XX`は EIP アドレスです。

### ステップ3： EIP ダイレクトを起動する
1.  [CVMコンソール](https://console.cloud.tencent.com/cvm/overview)にログインします。
2. 左側のディレクトリで、【ElasticパブリックIP】をクリックし、管理画面に入ります。
3. 右側の操作欄で、【ダイレクト】をクリックしてアクティブすればいいです。

>
>- スクリプトは eth0 のみをサポートし、セカンダリENIにまだサポートしていますせん。
>- NAT Gatewayはダイレクトモードをアクティブした EIPをバインディングできますが、ダイレクト効果はありません。
