## 1. LinuxサーバーのLoad Averageとは何ですか？

Loadはサーバーの負荷状況を表す指標であり、つまりコンピュータのCPUタスクの実行キューのサイズです。値が大きいほど、実行中のプロセスや、実行待ちのプロセスが多いことを示します。

## 2. Linuxサーバーの負荷状況を確認する方法は何ですか？

`w`、`top`、`uptime`、`procinfo`コマンドを実行することや、`/proc/loadavg`ファイルをアクセスすることにより、負荷状況を確認することができます。
procinfoツールのインストールについては、Linux環境でソフトウェアのインストールに関するドキュメントをご参照ください。 

## 3. サーバー側の負荷が高くなるとどうすればいいですか？

サーバーの負荷（Load/Load Average）はプロセスキューの長さで表します。サーバー側の負荷が高いとき（15分平均値を参照指標とすることを推薦する）、CPUのリソース不足、I/O読み書きボトルネック、メモリリソース不足、CPUが大量計算を実行していることなどの原因と考えられます。`vmstat`，`iostat`，`top`などのコマンドを利用して高負荷の原因を特定し、大量のリソースを占有しているプロセスを確定して最適化してください。 

## 4. サーバーのメモリ使用率を確認する方法は何ですか？

コマンド`free`、`top`（実行した後コマンド`shift+m`を実行してメモリをソートする）、`vmstat`、`procinfo`を実行することや、`/proc/meminfo`ファイルをアクセスすることによって確認することができます。 

## 5. 単一プロセスのメモリ占有状況を確認する方法は何ですか？

コマンド `top -p PID`、`pmap -x PID`、`ps aux|grep PID`を実行することや、`/proc/$process_id（プロセスのPID）/status` ファイルをアクセスすることによって確認することができます。例えば、/proc/7159/status ファイル。 

## 6. 使用中のサービスとポートを確認する方法は何ですか？

コマンド`netstat -tunlp`、`netstat -antup`、`lsof -i:PORT`を実行して確認することができます。 

## 7. サーバーのプロセス情報を確認する方法は何ですか？

コマンド`ps auxww|grep PID`、`ps -ef`、`lsof -p PID`、`top -p PID`を実行して確認することができます。 

## 8. プロセスを停止する方法は何ですか？

コマンド`kill -9 PID`（PIDはプロセス番号を表します）、`killallプログラム名`（例： killall cron）を実行し、実行中プロセスを停止することができます。
ゾンビプロセスを停止するには、そのプロセスの親プロセスを終了する必要があります。コマンド`kill -9 ppid`（ppid：親プロセスIDであり、コマンド `ps -o ppid PID`を実行して確認する。例えば、ps -o ppid 32535）を実行し、プロセスを停止することができます。 

## 9. ゾンビプロセスを確認する方法は何ですか？

コマンド`top`を実行することによって、ゾンビプロセス（zombie）の総数を確認することができます。コマンド`ps -ef | grep defunct | grep -v grep`を実行することによって、ゾンビプロセスの情報を確認することができます。 

## 10. サーバーポートを起動できないのはなぜですか？

サーバーポートの起動時の監視には、OS及びアプリケーションにより確認することが必要です。
Linux OSのポート番号が1024以下のものは、root ユーザーのみ起動できます。まずコマンド`sudo su –`を実行し、root ユーザー権限を取得してから、サービスポートを起動します。
アプリケーションの問題について、アプリケーションの起動ログを利用して失敗原因をトラブルシューティングすることをお勧めします。例えば、ポート間の競合（Tencentサーバーではポート番号36000が使用不可）や、設定問題などになります。 

## 11. よく利用されるLinuxシステムのパフォーマンス確認コマンドは何ですか？
<table class="t">
<tbody><tr>
<th width="100"><b>コマンド名称</b>
</th><th> <b>説明</b>
</th></tr>
<tr>
<td>top
</td><td>プロセス監視コマンドは、システムの全体的なパフォーマンスを監視します。<br>
<p>システムの負荷、プロセス、CPU、メモリ、ページングなどの情報を表示できます、一般的にshift + mとshift + pを利用して、memoryとCPUに基づいてプロセスをソートします。
</p>
</td></tr>
<tr>
<td>vmstat
</td><td>システム監視コマンドは、仮想メモリに重点を置いて、CPU、プロセス、メモリページング、及びIOの状態情報も監視できます。<br>
<p>例えば、vmstat 3 10は3秒ごとに結果を出力し、10回実行する。
</p>
</td></tr>
<tr>
<td>iostat
</td><td>CPU状態とIO状態を出力するツールであり、システムIO詳細情報を表示できます。
<p>例えば、iostat -dxmt 10は10秒ごとにMB形式でIO詳細情報を出力します。
</p>
</td></tr>
<tr>
<td>df
</td><td>システムのディスクキャパシティーの占有状況を確認するために使用されます。<br>
<p>例えば、df -mはディスク使用状況をMB単位で表示します。
</p>
</td></tr>
<tr>
<td>lsof
</td><td>システムで開かれているファイルをリストします。Linuxはファイルシステムをベースにしているため、このコマンドはシステム管理に役立ちます。<br>
<p>例えば：<br>
lsof -i：36000とは、36000ポートを使用するプロセスを表示する
<br>
lsof -u rootとは、rootの実行中のプログラムを表示する
<br>
lsof -c php-fpmとは、php-fpmプロセスが開かれたファイルを表示する
<br>
lsof php.iniとは、php.iniを開くプロセスを表示します。
</p>
</td></tr>
<tr>
<td>ps
</td><td>プロセス確認コマンドを使用して、プロセスの詳細情報を表示できます。<br>
<p>一般的なコマンドパラメータの組み合わせは、ps -ef、ps auxです。ps-A -oを使用して出力フィールドをカスタマイズすることをお勧めします。<br>
例えば：<br>
ps -A -o pid、stat、uname、%cpu、%mem、rss、args、lstart、etime | sort -k6,6 -rn、リストされたフィールドは六番目のフィールドのソート順によって出力します。
<br>
ps -A -o comm |sort -k1 |uniq -c|sort -k1 -rn|headとは、実行中のインスタンスが最も多いプロセスをリストします。
</p>
</td></tr></tbody></table>

その他の一般的に使用されるコマンドとファイル：`free -m`、`du`、`uptime`、`w`、`/proc/stat`、`/proc/cpuinfo`、`/proc/meminfo`。 

## 12. Cronが機能しない場合はどうすればいいですか？
トラブルシューティングの手順は下記の通り：
1. crontabが正常に実行されていることを確認します。
 1. `crontab -e`コマンドを実行し、次のテストエントリを追加します。
```
 \*/1 \* \* \* \* /bin/date >> /tmp/crontest 2>&1 &
```
 2. `/ tmp / crontest`ファイルを観察します。 
問題がある場合は、 `ps aux|grep cron` を使用してcronのpidを見つけて、`kill -9 PID`を使用してcronプロセスを終了し、 `/etc/init.d/cron start`コマンドを実行してcronを再起動することをお勧めします。 
2. cronエントリのスクリプトパスが絶対パスであることを確認します。
3. cronを実行するユーザーアカウントが正しいかを確認し、同時にこのアカウントが `/ etc / cron.deny`に含まれているかを確認します。
4. スクリプトの実行権限、スクリプトディレクトリ、及びログファイルの権限を確認します。
5. バックグラウンド方式でスクリプトを実行し、スクリプトエントリの後に「＆」を追加することをお勧めします。例えば `\*/1 \* \* \* \* /bin/date >> /tmp/crontest 2>&1 &` 。

## 13. CVMスタートアップタスクを設定する方法は何ですか？

Linuxカーネルの起動する順序は：
1. `/ sbin / init`プロセスを起動します。
2. init初期スクリプトを順番に実行します。
3. ランレベルスクリプト`/etc/rc.d/rc\*.d`は、\*は実行モードです。`/etc/inittab` で確認できます。
4. `/etc/rc.d/rc.local`を実行します。

> スタートアップタスクを設定する必要がある場合は、`/etc/rc.d/rc\*.d`中の`S\*\*rclocal`ファイルを設定します、`/etc/rc.d/rc.local`で設定することもできます。 

## 14. サーバーのディスクが読取専用になるのはなぜですか？

ディスクが読取専用になる一般的な理由は次の通りです：
- ディスクキャパシティーがいっぱい
`df -m`コマンドでディスク使用量を確認し、余分なファイルを削除してディスクキャパシティーをリリース（サードパーティ以外のファイルは削除しないことをお勧めします、必要ならご確認してください）します。 
- ディスクinodeのリソースが占有されています。
`df -i`コマンドを実行することにより、関連するプロセスを確認できます。 
-  ハードウェア障害。

hostingアプリケーションが上記の方法を利用して、まだ理由を特定できない場合は、お問い合わせ先95716に電話するか、作業依頼書をサブミットすることにより問題確定に協力してください。 

## 15. Linuxシステムログを確認する方法は何ですか？

- システムレベルのログファイルの保存パスは `/var/log`です。
- 一般的に使用されるシステムログは`/var/log/messages`です。

## 16. ファイルシステムの大きなファイルを検索する方法は何ですか？

以下の手順を実行して検索してください：
1. `df`コマンドを実行して、ディスクパーティションの使用状況を確認します。例えば、df -m。
2. `du`コマンドを実行して、特定のフォルダーのサイズを確認します。例えば、du -sh ./\*，du -h --max-depth=1|head -10。
3. `ls`コマンドを実行して、ファイルとファイルサイズをリストします。例えば、ls -lSh。
`find`コマンドを使用して、特定のディレクトリ配下のファイルサイズを直接確認できます、例えば、 find / -type f -size +10M -exec ls -lrt {} \。

## 17. サーバーのOSバージョンを確認する方法は何ですか？

以下のコマンドを実行して、OSバージョンを確認できます：
- uname -a
- cat /proc/version
- cat /etc/issue 

## 18. Linuxターミナルで中国語が文字化けするのはなぜですか？

サーバー自体は表示言語を制限しません、ターミナルソフトウェアが中国語の表示に影響する場合は、【オプション】> 【セッションオプション】>【外観】（secureCRT 設定、その他のバージョンのソフトウェアについて関連する設定を調べてください）を調整してみてください。
純粋なLinux shellが文字化けする場合は、exportコマンドを使用して、ユーザー環境変数、LANG、LC_CTYPEなどの環境変数設定を確認してください。

## 19. SecureCRTを利用してCVMに接続するタイムアウト時間を設定する方法は何ですか？

SecureCRTがCVMに接続されている場合、以下の設定により切断されないことができます：
1. 【SecureCRTオプション（Options）】を開きます。
2. 【セッションオプション（Session Opetions）】を選択して，【ターミナル（Terminal）】をクリックします。
3. 右側のアンチアイドルボックス（Anti-idle）で、【送信プロトコルNO-OP（Send protocol NO-OP）】をチェックし、時間を120秒ごと(every 120 seconds)に設定します。 

## 20. なぜLinuxサーバー上のファイルを削除しても、ディスクのキャパシティーはリリースされませんか？

**原因：**

Linuxサーバーにログインし、 `rm`コマンドを実行してファイルを削除した後、` df`コマンドを実行してディスクのキャパシティーを確認します。ファイルを削除しても、利用可能なディスクのキャパシティーが増加していないことを発見することができます。 理由としては、`rm`コマンドによってファイルが削除する時、他のプロセスがこのファイルにアクセスしているためです。従って、`df`コマンドを実行して確認しても、削除されたファイルが占有しているキャパシティーは、まだリリースされない状態になります。

**解決策：**

1. root権限を使用し、 `lsof | grep deleted`コマンドを実行して、削除対象のファイルが使用しているプロセスのPIDを確認します。
2. コマンド `kill -9 PID`を使用して該当するプロセスを終了します。 
