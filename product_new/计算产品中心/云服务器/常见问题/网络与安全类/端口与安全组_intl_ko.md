본 문서는 보안 그룹 및 포트 생성과 관련된 문제를 소개합니다.
- CVM에서 생성, 구성과 보안 그룹 작업하는 방법에 대한 자세한 내용은 [보안 그룹 생성](https://intl.cloud.tencent.com/document/product/213/15377)과 [보안 그룹 작업](https://intl.cloud.tencent.com/document/product/213/18197)을 참조하십시오.

## 포트 관련

### 인스턴스에 로그인하기 전 개방에 어떤 포트가 필요합니까?
일반적으로 Linux 인스턴스에 대해 22번 포트로 개방하고 Windows 인스턴스에 대해 3389번 포트로 개방합니다. 다른 인스턴스 유형에 적용되는 포트에 대한 자세한 내용은 [일반 시나리오 구성](https://intl.cloud.tencent.com/document/product/213/32369)을 참조하십시오.

### CVM가 상용하는 포트는 무엇이 있습니까?

[서버 상용 포트](https://intl.cloud.tencent.com/document/product/213/12451)를 참조하십시오.

### 포트를 여는 이유는 무엇입니까? 어떤 방법으로 포트를 열 수 있습니까?

보안 그룹에서 포트를 활성화하여야 포트에 대응하는 서비스를 사용할 수 있습니다. 보안 그룹 포트 구성, 구성 규칙에 대한 자세한 내용은 [보안 그룹 작업](https://intl.cloud.tencent.com/document/product/213/18197)을 참조하십시오.

### 포트 수정 후 서비스를 사용할 수 없는 이유는 무엇입니까?

서비스 포트를 수정한 후 대응하는 보안 그룹에서 대응하는 포트를 활성화해야만 서비스를 사용할 수 있습니다.

### Tencent Cloud가 지원하는 포트는 무엇입니까?

- Tencent Cloud는 기본적으로 TCP:25 포트만 제한하므로 [Tencent Cloud 콘솔](https://console.cloud.tencent.com/)에 로그인하고 콘솔 왼쪽 상단에서 "[계정] > [25포트 해제]"를 선택하여 자동 신청을 해제할 수 있습니다.
- 부분 포트에는 보안 위험이 존재하므로 Tencent Cloud의 제한을 받지 않아도 ISP는 여전히 차단하여 액세스할 수 없습니다. 이런 상황을 피하기 위해 포트를 변경할 것을 권장하며 다음과 같은 포트는 사용하지 마십시오.
<table>
<tr><th>프로토콜</th><th>차단 가능한 포트</th></tr>
<tr><td>TCP</td><td>42、135、137、138、139、445、593、1025、1434、1068、3127、3128、3129、3130、4444、5554、9996</td></tr>
<tr><td>UDP</td><td>1026、1027、1434、1068、5554、9996、1028、1433、135 - 139</td></tr>
</table>

## 보안 그룹 관련

### 보안 그룹에서 왜 기본으로 거부 규칙이 있습니까?

보안 그룹 규칙은 위에서 아래 순서대로 선별하여 적용되며 이전에 설정된 허용 규칙을 통과하면 다른 규칙은 기본적으로 거부됩니다. 모든 포트를 인터넷 개방할 경우 마지막 거부 규칙은 유효하지 않으며 보안상의 이유로 기본 설정으로 제공합니다.

### 보안 그룹을 정확하게 선택하지 않으면 해당 보안 그룹의 인스턴스 바인딩에 어떤 영향을 줍니까?어떻게 해결할 수 있습니까?

**문제 위험성**

- (SSH)Linux 인스턴스 원격 연결, 바탕 화면 Windows 인스턴스 원격 로그인은 실패할 수 있습니다.
- 해당 보안 그룹의 CVM 인스턴스 공용 네트워크 IP, 개인 IP의 원격 ping 체크를 실패할 수 있습니다.
-해당 보안 그룹의 인스턴스가 노출한 웹서비스에 대한 HTTP 액세스는 실패할 수 있습니다.
- 해당 보안 그룹의 인스턴스는 Internet 서비스를 액세스할 수 없습니다.

**해결 방법**

- 위와 같은 문제가 발생할 경우 콘솔의 보안 그룹 관리에서 보안 그룹 규칙을 재설정할 수 있습니다. 예를 들면 모든 포트를 개방한 보안 그룹만 바인딩합니다.
- 보안 그룹 규칙 설정에 대한 자세한 내용은 [보안 그룹 소개](https://intl.cloud.tencent.com/document/product/213/12452)를 참조하십시오.

### 보안 그룹의 방향과 정책은 무엇입니까?

보안 그룹 정책 방향은 아웃바운드 및 인바운드로 구분되며 아웃바운드는 CVM 트래픽 아웃바운드를 필터링하는 것을 의미하고 인바운드는 CVM 트래픽 인바운드를 필터링하는 것을 의미합니다.
보안 그룹 정책은 트래픽**허용**과 **거절**로 구분됩니다.

### 보안 그룹 정책은 어떤 순서로 적용됩니까?

위에서 아래로 적용됩니다. 트래픽이 보안 그룹을 통과할 때 정책은 위에서 아래 순서로 적용되므로 매칭이 성공되면 정책이 적용됩니다.

### 보안 그룹에서 허용하지 않은 IP가 여전히 CVM을 액세스할 수 있는 이유는 무엇입니까?

다음과 같은 이유가 있을 수 있습니다.
- CVM 가 여러 보안 그룹을 바인딩할 수 있으며 특정 IP는 다른 보안 그룹에 허용됩니다.
- 특정 IP는 승인된 Tencent Cloud 공용 서비스에 해당합니다.

### 보안 그룹을 사용하면 iptables을 사용할 수 없습니까?

아닙니다. 보안 그룹과 iptables를 동시에 사용할 수 있고 사용자 트래픽은 두 번 필터링되며 트래픽 방향은 다음과 같습니다:
- 아웃바운드 방향：인스턴스 프로세스> iptables > 보안 그룹
- 인바운드 방향：보안 그룹 > iptables > 인스턴스 프로세스

### CVM을 전부 반환하여도 보안 그룹을 삭제할 수 없는 이유는 무엇입니까?

휴지통에 CVM이 있는지 확인하십시오. 보안 그룹이 휴지통에 있는 CVM을 바인딩할 경우 삭제할 수 없습니다.

### 보안 그룹을 클론할 때 목표 가용존의 보안 그룹과 동일한 커맨드를 사용할 수 있습니까?

안됩니다. 커맨드는 목표 리전의 현재 보안 그룹 이름과 다르게 유지되어야 합니다.

### 보안 그룹은 사용자 간의 클론을 지원합니까?

지원하지 않습니다.

### 보안 그룹의 프로젝트 및 리전 간의 클론은 클라우드 API의 지원을 받습니까?

현재 콘솔을 이용하는 고객에게 MC를 지원하고 클라우드 API는 지원하지 않습니다. 사용자는 기존의 일괄 가져오기/내보내기한 보안 그룹 규칙의 클라우드 API를 통해 보안 그룹의 프로젝트 간 및 리전 간의 클론을 간접적으로 달성할 수 있습니다.

### 보안 그룹의 프로젝트 간 및 리전 간의 클론은 보안 그룹이 관리하는 CVM과 함께 복사합니까?

아닙니다. 보안 그룹 리전 간의 클론은 기존 보안 그룹에서 내보내고 가져오는 규칙만 클론하고 CVM은 별도로 연결해야 합니다.
