## ユースケース
スナップショットは、データの共有とマイグレーションのための重要な方法です。スナップショットから作成されたCBSには、スナップショットの全てのデータが含まれます。スナップショットを利用して、スナップショットの容量以上のCBSを作成できます。
- スナップショットを利用して同じサイズのデータディスクを作成する場合、新しいデータディスクは初期化する必要がなく、直接CVMに[マウント](https://intl.cloud.tencent.com/document/product/362/32401) すれば正常に読み書きできます。
- スナップショットを利用してスナップショットより大きい容量のデータディスクを作成する場合、システムはブロックデバイスレベルのディスク拡張のみを行い、ファイルシステムの拡張またはパーティション形式の自動変換についてはまだできていません。新しいデータディスクを [マウント](https://intl.cloud.tencent.com/document/product/362/32401) した後、ソーススナップショットのファイルシステムとデータのみが利用でき、新しいディスク領域は直接利用できません。手動でファイルシステムを拡張して、パーティション形式を変換する必要があります。
  例えば、パーティション形式がMBRであり、容量が1TBのデータディスクスナップショットを利用して、一つの3TBのデータディスクを新規作成します。MBR がサポートするディスクの最大容量は2TBであるため、データディスクをフォーマットし、GPTを利用してパーティションを作り直す必要があります。これにより、**元のデータが削除されます**。したがって、**実際のニーズに応じて慎重に行ってください**。

このドキュメントでは、 [スナップショットリスト](https://console.cloud.tencent.com/cvm/snapshot) 画面で、スナップショットを利用してCBSを作成する方法を説明します。さらに、 [CBS を作成する](https://intl.cloud.tencent.com/document/product/362/5744) 時にパラメータの【スナップショット】を設定することにより、指定したスナップショットを利用してCBSを作成することもできます。


## 操作手順
### コンソールを利用してスナップショットからCBSを作成する
1. [スナップショットリスト](https://console.cloud.tencent.com/cvm/snapshot) 画面にログインします。
2. ターゲットスナップショットの行で、【詳細】をクリックして、【CBSの作成】を選択します。
3. 【データディスクの購入】ダイアログボックスで以下のパラメータを設定します：
<table>
     <tr>
         <th width="12%">パラメータ項目</th>  
         <th>パラメータの説明</th>  
     </tr>
	<tr>
         <td>アベイラビリティゾーン</td>
         <td>必須パラメータ。</br>CBS が配置されているアベイラビリティゾーンにおいて、CBS作成後の変更をサポートしていません。</td>
     </tr>
     <tr>
         <td> CBSの種類</td>
         <td>必須パラメータ。</br> CBSの種類：<ul><li>普通 CBS </li><li>高性能 CBS </li><li>SSD CBS</li></ul></td>
     </tr>
     <tr>
         <td>容量</td>
         <td>必須パラメータ。</br> CBSの容量仕様：<ul><li>普通 CBS：10GB - 16000GB</li><li>高性能 CBS：50GB - 16000GB</li><li>SSD CBS：100GB - 16000GB</li></ul> スナップショットを利用してCBSを作成する場合、容量はスナップショットのサイズより小さくすることはできません。CBSの容量を指定しない場合、容量はデフォルトでスナップショットのサイズになります。</td>
     </tr>
     <tr>
         <td>ハードディスク名</td>
         <td>オプションパラメータ。</br>大文字と小文字、または日本語で始まる20文字以内、大文字と小文字、日本語、数字、特殊記号._:-で構成されます。CBSを作成した後、変更できます。<ul><li>単一のCBSを作成する：ディスク名はCBSの名です。</li><li>一括CBSを作成する：一度に複数のCBSを作成する場合、ディスク名はCBS名のプレフィックスになり、最終的な CBS 名は【ディスク名_数字】（「ディスク名_0」 - 「ディスク名_49」）で構成されます。</li></ul></td>
     </tr>
	 <tr>
         <td>所属プロジェクト</td>
         <td>必須パラメータ。</br> CBS を作成する時に、CBSの所属プロジェクトを設定できます。デフォルトのプロジェクトは【デフォルトプロジェクト】です。</td>
     </tr>
	 <tr>
         <td>タグ</td>
         <td>オプションパラメータ。</br> CBS の作成時にタグをつけることができます。タグを利用してクラウドリソースを識別することにより、クラウドリソースの分類と検索を実現します。タグの詳細については、 <a href="https://cloud.tencent.com/document/product/651">タグ製品ドキュメント</a> をご参照ください。</td>
     </tr>
	 <tr>
         <td>課金モード</td>
         <td>必須パラメータ。</br> CBS がサポートする課金モード：従量課金です
     </tr>
	 <tr>
	 	 <tr>
         <td>定期バックアップ</td>
         <td>オプションパラメータ。</br> CBSを作成する時に定期バックアップを選択でき、作成された定期スナップショットポリシーに基づいてCBSのスナップショットを定期的に作成できます。
     </tr>
	 <tr>
         <td>購入数</td>
         <td>オプションパラメータ。</br>デフォルトの数は【1】であり、1つのCSBを作成することを表します。現時点では、最大50台のCBSを一括作成できます。</td>
     </tr>
	 <tr>
         <td>購入時間</td>
     <td><ul>【課金モード】は【従量課金】を選択した場合、このパラメータは関係ありません。</ul></td>
     </tr>
         <td>自動更新</td>
     <td><ul>【課金モード】は【従量課金】を選択した場合、このパラメータは関係ありません。</ul></td>
     </tr>
</table>

4. 【OK】をクリックします。
 - 【課金モード】は【従量課金】の場合、作成が完了します。
 - 【課金モード】は【サブスクリプション】の場合、【情報の確認】画面に入ります。
  <ol>
  1. 仕様を確認した後、実際の状況に応じて金券を使用するかどうかを選択し、【購入の確定】をクリックします。
  2. 支払いが完了します。
 </ol>
 
5.[ CBSリスト](https://console.cloud.tencent.com/cvm/cbs) 画面で、作成されたCBSを確認できます。新しく作成されたElastic CBS は【マウント待ち】状態です。 [ CBSのマウント](https://intl.cloud.tencent.com/document/product/362/5745) を参照して、CBS を同じアベイラビリティソーンのCVMにマウントします。

### API を利用してスナップショットからCBSを作成する
CreateDisks インターフェースを利用してスナップショットを作成できます。詳細については、 [CBS の作成](https://intl.cloud.tencent.com/document/product/362/16312) をご参照ください。
