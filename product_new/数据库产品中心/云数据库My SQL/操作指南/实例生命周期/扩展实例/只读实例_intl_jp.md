## 操作シナリオ
MySQL は、ユーザーによる1つまたは複数の読取専用インスタンスの作成をサポートし、また、ユーザーによるリード・ライト分離と1マスタ対複数スレーブのユースケースをサポートすることで、ユーザーデータベースの読み取り負荷能力を明らかに向上させることができます。
現在、アドレスのリード・ライト分離（すなわち、読み取りリクエストと書き込みリクエストの自動分離）をサポートしません。読取専用インスタンスは、単独のIP、PORT を介してアクセスする必要があります。

**用語**
- **ROグループ**：ロードバランサ機能を有する読取専用インスタンスグループを指します。ROグループに読取専用インスタンスが複数ある場合、ユーザーからの読み取りリクエスト数を均一にグループ内の各読取専用インスタンスに割り当てることができます。また、ROグループは、データベースにアクセスするためのIP、PORTを外部に提供します。
- **読取専用インスタンス**：読み取りリクエストをサポートできる単一ノード（スレーブノード無し）インスタンスを指します。読取専用インスタンスは、単独で存在できません。すべての読取専用インスタンスはあるROグループに所属しています。

## アーキテクチャ
読取専用インスタンスは、MySQL binlogのマスター/スレーブ同期機能を使用して、マスターインスタンス（ソースデータベース）の変更をすべての読取専用インスタンスに同期させます。読取専用インスタンスは単一ノード（スレーブノードなし）アーキテクチャにあります。読取専用インスタンスがクラッシュした場合、繰り返して復元を試行します。より高いレベルの可用性を求める場合、 ROグループを選択してください。
![](https://mc.qcloudimg.com/static/img/3f2a163d690deda5978474f8db4b8738/image.png)

## 機能の制限について
- 1つのマスターインスタンスは、最大5つの読取専用インスタンスまで作成できます。
- **ディスク容量が50GB、メモリが1000MB**以上仕様のマスターインスタンスのみに対して、読取専用インスタンスの購入をサポートします。マスターインスタンスが上記仕様以下である場合、まずマスターインスタンスの仕様をアップグレードしてください。
- 読取専用インスタンスのインスタンス仕様がマスターインスタンスに一致する必要はありません。ユーザーは負荷状況に応じてアップグレードできます。
- 正常な同期を確保するために、読取専用インスタンスのディスク容量は、**マスターインスタンス既存データ量の1.1倍**以上である必要があります。
- バックアップとロールバック機能をサポートしません。
- 読取専用インスタンスへのデータ移行をサポートしません。
- データベースの作成・削除をサポートしません。また、phpMyAdmin（PMA）をサポートしません。
- アカウントの作成・削除をサポートしません。アカウントの認証、アカウントとパスワードの変更をサポートしません。

## 注意事項
- 読取専用インスタンスでは、アカウントとデータベースをメンテナンスする必要がなく、両方ともマスターインスタンスから同期します。
-  MySQL 5.6 （GTID）又はそれ以降バージョンのマスターデータベースでのみ読取専用インスタンスを有効にできます。5.6以前のMySQLバージョンの場合、データベースを MySQL 5.6にバージョンアップします。インスタンスの仕様が4GBのメモリ 、100GB以上のディスク容量である場合、GTIDを有効にした後、読取専用インスタンスを購入することができます。
-  MySQLバージョンが5.6であり、 GTIDを有効にしていない場合、コンソールからGTIDを有効にしてから読取専用インスタンスを追加します。
GTID有効化には長い時間がかかり、また、インスタンスの接続が数秒間で切断されるため、業務量の少ない時期に作業するほか、データベースアクセス用のプログラムに再接続機能を追加することをお勧めします。
- 読取専用インスタンスでは、InnoDBエンジンのみがサポートされており、また、InnoDBエンジンのマスターインスタンスによる読取専用インスタンスの作成のみがサポートされています。
- データ同期にディレーが発生しているため、複数の読取専用インスタンス間に少量のデータが一致しないケースがあります。各読取専用インスタンスとマスターインスタンス間の同期レイテンシーについて、コンソールで確認できます。
- 同じROグループ内における読取専用インスタンスのインスタンス仕様が一致することをお勧めします。

## 操作手順
1.  [MySQL コンソール](https://console.cloud.tencent.com/cdb/ )にログインします。
2. インスタンスリストで、読取専用インスタンスを作成するクラウドデータベースを選択し、操作列で【管理】をクリックします。
3. 【インスタンス詳細】タブで、インスタンスアーキテクチャ図における【読取専用インスタンスの追加】をクリックすると、読取専用インスタンスの管理ページが表示されます。
![](https://main.qcloudimg.com/raw/09902e5af5ef3530bd2ade5a5dc0e616.png)
4. 【読取専用インスタンス】タブで、【新規作成】をクリックし、読取専用インスタンスを作成します。
5. 購入ページに入り、読取専用インスタンスに対応する構成を選択し、問題ないことを確認してから【今すぐ購入】をクリックし、読取専用インスタンスを購入します。
![](https://main.qcloudimg.com/raw/5c002d37fdeb72a5396a394133672338.png)

